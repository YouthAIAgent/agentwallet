<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AgentWallet Protocol | Autonomous AI Agent Wallets on Solana</title>
<meta name="description" content="Next-gen wallet infrastructure for AI agents on Solana. 27 MCP tools. 88+ API endpoints. ACP agent commerce. Swarm coordination. PDA wallets. Trustless escrow. Live on devnet.">
<meta property="og:title" content="AgentWallet Protocol | Live on Solana Devnet">
<meta property="og:description" content="Autonomous wallet infrastructure for AI agents on Solana. 27 MCP tools. 88+ API endpoints. ACP. Swarms. PDA wallets.">
<meta property="og:image" content="https://agentwallet.fun/og-image.png">
<meta property="og:type" content="website">
<meta property="og:url" content="https://agentwallet.fun">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="AgentWallet Protocol | AI Agent Wallets on Solana">
<meta name="twitter:description" content="27 MCP tools. 88+ API endpoints. Agent Commerce Protocol. Swarm coordination. Live on Solana devnet.">
<link rel="canonical" href="https://agentwallet.fun">
<link rel="icon" type="image/svg+xml" href="favicon.svg">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-C7XR8BZWXG"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date());gtag('config','G-C7XR8BZWXG');</script>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;500;700;800&display=swap" rel="stylesheet">
<style>
*,*::before,*::after{margin:0;padding:0;box-sizing:border-box}
:root{
  --bg:#020204;--bg2:#08080f;
  --g:#00ff41;--c:#00d4ff;--m:#e040fb;--p:#a855f7;--y:#ffcc00;--o:#ff6600;--r:#ff0040;
  --pk:#ff69b4;--tl:#40e0d0;
  --dim:#3a3a5a;--dimlt:#6a6a8a;--text:#c0c0d0;
  --font:'JetBrains Mono',monospace;
  --rainbow:linear-gradient(90deg,#ff0040,#ff6600,#ffcc00,#00ff41,#00d4ff,#a855f7,#e040fb);
}
html{scroll-behavior:smooth}
body{font-family:var(--font);background:var(--bg);color:var(--text);overflow-x:hidden;line-height:1.6}
::selection{background:#00ff4133;color:#00ff41}
::-webkit-scrollbar{width:5px}
::-webkit-scrollbar-track{background:#020204}
::-webkit-scrollbar-thumb{background:linear-gradient(var(--g),var(--c));border-radius:3px}

/* CRT */
#crt{position:fixed;inset:0;pointer-events:none;z-index:9999}
#crt::before{content:'';position:absolute;inset:0;background:repeating-linear-gradient(0deg,transparent,transparent 2px,rgba(0,0,0,.03) 2px,rgba(0,0,0,.03) 4px);animation:scan 8s linear infinite}
#crt::after{content:'';position:absolute;inset:0;background:radial-gradient(ellipse at center,transparent 55%,rgba(0,0,0,.45) 100%)}
@keyframes scan{to{transform:translateY(4px)}}

/* BOOT */
#boot{position:fixed;inset:0;z-index:10000;background:#000;display:flex;align-items:center;justify-content:center;transition:opacity .8s,visibility .8s}
#boot.done{opacity:0;visibility:hidden}
#boot-inner{width:700px;max-width:90vw;padding:40px}
.bl{font-size:13px;opacity:0;transform:translateX(-8px);transition:all .3s;margin:3px 0;white-space:nowrap;overflow:hidden}
.bl.on{opacity:1;transform:translateX(0)}
.bl .tg{font-weight:700;margin-right:8px}
.tg.c-boot{color:var(--c)}.tg.c-ok{color:var(--g)}.tg.c-init{color:var(--y)}.tg.c-warn{color:var(--o)}.tg.c-sys{color:var(--m)}.tg.c-err{color:var(--r)}
.bprog{width:100%;height:3px;background:#111;margin-top:20px;border-radius:2px;overflow:hidden}
.bprog-bar{height:100%;width:0;background:var(--rainbow);transition:width .3s}

/* CANVAS */
#matrix-c,#particle-c{position:fixed;inset:0;z-index:0;pointer-events:none}
#matrix-c{opacity:.12}
#particle-c{opacity:.25}

/* SCROLL BAR */
#scroll-p{position:fixed;top:0;left:0;height:3px;z-index:300;background:var(--rainbow);width:0;transition:width .15s}

/* NAV */
.nav{position:fixed;top:0;left:0;right:0;z-index:100;background:rgba(2,2,4,.88);backdrop-filter:blur(20px);border-bottom:1px solid rgba(0,255,65,.06);transform:translateY(-100%);transition:transform .4s}
.nav.on{transform:translateY(0)}
.nav-in{max-width:1200px;margin:0 auto;padding:0 20px;height:48px;display:flex;align-items:center;gap:20px}
.nav-logo{font-weight:800;font-size:13px;letter-spacing:2px;background:var(--rainbow);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
.nav-lnk{color:var(--dim);font-size:10px;text-decoration:none;letter-spacing:1.5px;text-transform:uppercase;transition:all .3s;margin-left:auto}
.nav-lnk+.nav-lnk{margin-left:0}
.nav-lnk:hover{color:var(--g);text-shadow:0 0 10px #00ff4144}
.nav-links{display:flex;gap:16px;margin-left:auto}
.nav-dot{width:6px;height:6px;border-radius:50%;background:var(--g);margin-left:16px;animation:pdot 2s infinite}
@keyframes pdot{0%,100%{box-shadow:0 0 0 0 rgba(0,255,65,.5)}50%{box-shadow:0 0 0 6px rgba(0,255,65,0)}}

/* HERO */
.hero{min-height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:80px 20px;text-align:center;position:relative;z-index:1}
.hero-badge{font-size:9px;letter-spacing:5px;padding:6px 24px;border-radius:20px;margin-bottom:28px;border:1px solid rgba(0,255,65,.2);color:var(--g);text-shadow:0 0 10px #00ff4144;animation:badgeg 3s ease-in-out infinite alternate}
@keyframes badgeg{0%{border-color:rgba(0,255,65,.15)}100%{border-color:rgba(0,255,65,.4);box-shadow:0 0 25px rgba(0,255,65,.08)}}
.hero h1{font-size:clamp(36px,9vw,100px);font-weight:800;letter-spacing:10px;line-height:1;margin-bottom:12px;background:var(--rainbow);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;background-size:200% auto;animation:rainbow-shift 4s linear infinite;filter:drop-shadow(0 0 30px rgba(0,255,65,.15))}
@keyframes rainbow-shift{to{background-position:200% center}}
.hero-sub{font-size:clamp(13px,2vw,17px);color:var(--dimlt);letter-spacing:2px;max-width:600px;min-height:26px;margin-bottom:8px}
.hero-sub .cur{display:inline-block;width:2px;height:1em;background:var(--g);margin-left:2px;animation:blink .7s step-end infinite;vertical-align:text-bottom}
@keyframes blink{50%{opacity:0}}
.hero-ver{font-size:10px;color:var(--dim);letter-spacing:3px;margin-bottom:36px}
.stats{display:grid;grid-template-columns:repeat(4,1fr);gap:1px;max-width:680px;width:100%;margin:0 auto}
.st{background:rgba(255,255,255,.02);padding:20px 12px;text-align:center;border:1px solid rgba(255,255,255,.04);transition:all .3s;position:relative;overflow:hidden}
.st::after{content:'';position:absolute;bottom:0;left:0;right:0;height:2px;background:var(--rainbow);transform:scaleX(0);transition:transform .4s}
.st:hover::after{transform:scaleX(1)}
.st:hover{background:rgba(255,255,255,.04);border-color:rgba(255,255,255,.08)}
.st-v{font-size:28px;font-weight:800;letter-spacing:2px;margin-bottom:2px}
.st-l{font-size:8px;letter-spacing:3px;color:var(--dim);text-transform:uppercase}
.st:nth-child(1) .st-v{color:var(--g);text-shadow:0 0 15px #00ff4133}
.st:nth-child(2) .st-v{color:var(--c);text-shadow:0 0 15px #00d4ff33}
.st:nth-child(3) .st-v{color:var(--m);text-shadow:0 0 15px #e040fb33}
.st:nth-child(4) .st-v{color:var(--y);text-shadow:0 0 15px #ffcc0033}
.hero-btns{display:flex;gap:10px;margin:28px 0;flex-wrap:wrap;justify-content:center}
.hb{font-family:var(--font);font-size:11px;letter-spacing:2px;padding:10px 24px;text-decoration:none;transition:all .3s;cursor:pointer;position:relative;overflow:hidden;display:inline-block}
.hb-p{background:transparent;color:var(--g);border:1px solid var(--g)}
.hb-p:hover{background:var(--g);color:#000;box-shadow:0 0 25px rgba(0,255,65,.25)}
.hb-s{background:transparent;color:var(--dim);border:1px solid rgba(255,255,255,.1)}
.hb-s:hover{color:var(--c);border-color:var(--c)}

/* === MEGA TERMINAL === */
.term-section{padding:20px;position:relative;z-index:1;max-width:950px;margin:0 auto}
.term{background:rgba(2,2,8,.95);border:1px solid rgba(0,255,65,.12);border-radius:10px;overflow:hidden;box-shadow:0 0 60px rgba(0,255,65,.04),0 20px 60px rgba(0,0,0,.5)}
.term-head{background:rgba(0,0,0,.6);padding:10px 16px;display:flex;align-items:center;gap:8px;border-bottom:1px solid rgba(255,255,255,.04)}
.td{width:11px;height:11px;border-radius:50%}.td-r{background:#ff5f57}.td-y{background:#ffbd2e}.td-g{background:#28c940}
.term-title{margin-left:12px;font-size:10px;color:var(--dim);letter-spacing:1px}
.term-tabs{margin-left:auto;display:flex;gap:2px}
.term-tab{font-size:9px;padding:3px 10px;color:var(--dim);border:1px solid rgba(255,255,255,.05);cursor:pointer;letter-spacing:1px;transition:all .3s}
.term-tab.active{color:var(--g);border-color:var(--g);background:rgba(0,255,65,.05)}
.term-tab:hover{color:var(--c)}
.term-body{padding:16px 20px;min-height:420px;max-height:520px;overflow-y:auto;font-size:12px;scroll-behavior:smooth}
.term-body::-webkit-scrollbar{width:4px}
.term-body::-webkit-scrollbar-thumb{background:#1a1a3e}
.tl{margin:1px 0;white-space:pre-wrap;word-break:break-all;line-height:1.55}
.tl-cmd{color:var(--g)}.tl-cmd::before{content:'$ ';color:var(--dim)}
.tl-out{color:var(--text);padding-left:12px}
.tl-ok{color:var(--g);padding-left:12px}
.tl-err{color:var(--r);padding-left:12px}
.tl-info{color:var(--c);padding-left:12px}
.tl-warn{color:var(--y);padding-left:12px}
.tl-mag{color:var(--m);padding-left:12px}
.tl-pink{color:var(--pk);padding-left:12px}
.tl-head{color:var(--y);font-weight:700;padding:4px 0;border-bottom:1px solid rgba(255,204,0,.1);margin:6px 0 4px}
.tl-rainbow{padding-left:12px;background:var(--rainbow);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;font-weight:700}
.tl-ascii{color:var(--g);font-size:10px;line-height:1.2;padding-left:0}
.term-input{display:flex;align-items:center;padding:8px 20px 16px;position:relative}
.term-prompt{color:var(--g);margin-right:8px;font-size:12px;white-space:nowrap}
#ti{flex:1;background:none;border:none;outline:none;color:var(--g);font-family:var(--font);font-size:12px;caret-color:var(--g)}
.autocomplete{position:absolute;bottom:100%;left:20px;right:20px;background:rgba(5,5,15,.95);border:1px solid rgba(0,255,65,.15);display:none;max-height:200px;overflow-y:auto;font-size:11px}
.ac-item{padding:6px 12px;cursor:pointer;color:var(--dimlt);transition:all .15s}
.ac-item:hover,.ac-item.sel{background:rgba(0,255,65,.08);color:var(--g)}
.ac-item .ac-desc{color:var(--dim);margin-left:12px;font-size:10px}

/* SECTIONS */
.section{padding:80px 20px;position:relative;z-index:1;max-width:1100px;margin:0 auto}
.sh{margin-bottom:50px}
.sn{font-size:10px;letter-spacing:4px;margin-bottom:6px;background:var(--rainbow);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;font-weight:700}
.stitle{font-size:clamp(22px,4vw,34px);font-weight:800;letter-spacing:3px;color:#fff;line-height:1.2}
.sline{width:80px;height:2px;margin-top:14px;background:var(--rainbow);border-radius:1px}
.sdesc{font-size:12px;color:var(--dimlt);margin-top:10px;max-width:550px}

/* ENDORSEMENT */
.eg{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:16px}
.ec{background:rgba(255,255,255,.02);border:1px solid rgba(255,255,255,.05);padding:28px;position:relative;overflow:hidden;transition:all .4s}
.ec:hover{border-color:rgba(0,255,65,.15);transform:translateY(-3px);box-shadow:0 10px 40px rgba(0,0,0,.3)}
.ec::before{content:'';position:absolute;top:0;left:0;right:0;height:2px;background:var(--rainbow);transform:scaleX(0);transform-origin:left;transition:transform .4s}
.ec:hover::before{transform:scaleX(1)}
.eq{font-size:18px;font-weight:700;color:#fff;line-height:1.4;margin-bottom:14px;font-style:italic}
.eq::before{content:'"';color:var(--m);font-size:28px;line-height:0;vertical-align:-6px;margin-right:4px}
.ecx{font-size:11px;color:var(--dim);margin-bottom:16px;line-height:1.5}
.ea{display:flex;align-items:center;gap:10px}
.eav{width:36px;height:36px;border-radius:50%;background:var(--rainbow);display:flex;align-items:center;justify-content:center;font-weight:800;font-size:12px;color:#000}
.en{font-weight:700;color:#fff;font-size:13px}
.er{font-size:9px;letter-spacing:2px;color:var(--dim)}
.el{display:inline-block;margin-top:14px;font-size:10px;letter-spacing:2px;color:var(--c);text-decoration:none;transition:color .3s}
.el:hover{color:var(--g)}

/* FEATURES */
.fg{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:1px}
.fc{background:rgba(255,255,255,.015);border:1px solid rgba(255,255,255,.04);padding:28px 20px;transition:all .4s;position:relative;overflow:hidden}
.fc:hover{background:rgba(255,255,255,.03);border-color:rgba(255,255,255,.1)}
.fc::after{content:'';position:absolute;bottom:0;left:0;right:0;height:2px;background:var(--rainbow);transform:scaleX(0);transition:transform .4s}
.fc:hover::after{transform:scaleX(1)}
.fi{font-size:26px;margin-bottom:12px}
.fn{font-size:13px;font-weight:700;letter-spacing:1px;margin-bottom:6px}
.fc:nth-child(1) .fn{color:var(--g)}.fc:nth-child(2) .fn{color:var(--c)}.fc:nth-child(3) .fn{color:var(--m)}
.fc:nth-child(4) .fn{color:var(--y)}.fc:nth-child(5) .fn{color:var(--pk)}.fc:nth-child(6) .fn{color:var(--tl)}
.fc:nth-child(7) .fn{color:var(--o)}.fc:nth-child(8) .fn{color:var(--p)}.fc:nth-child(9) .fn{color:var(--r)}
.fd{font-size:11px;color:var(--dim);line-height:1.5}

/* ACP */
.acp-flow{display:flex;align-items:stretch;gap:0;flex-wrap:wrap;justify-content:center;margin-top:32px}
.acp-p{background:rgba(255,255,255,.02);border:1px solid rgba(255,255,255,.05);padding:20px 16px;min-width:180px;text-align:center;transition:all .4s;flex:1}
.acp-p.active{border-color:var(--g);background:rgba(0,255,65,.03);box-shadow:0 0 20px rgba(0,255,65,.06)}
.acp-pn{font-size:9px;letter-spacing:3px;color:var(--dim);margin-bottom:6px}
.acp-pm{font-size:15px;font-weight:700;margin-bottom:6px}
.acp-pd{font-size:10px;color:var(--dimlt);line-height:1.4}
.acp-a{font-size:20px;color:var(--dim);display:flex;align-items:center;padding:0 2px;animation:apulse 2s infinite}
@keyframes apulse{0%,100%{opacity:.2}50%{opacity:1;color:var(--g)}}

/* PRICING */
.pg{display:grid;grid-template-columns:repeat(3,1fr);gap:1px;max-width:850px;margin:0 auto}
.pc{background:rgba(255,255,255,.02);border:1px solid rgba(255,255,255,.05);padding:36px 20px;text-align:center;transition:all .4s;position:relative}
.pc.feat{border-color:rgba(0,255,65,.2);background:rgba(0,255,65,.015)}
.pc.feat::before{content:'POPULAR';position:absolute;top:-1px;left:50%;transform:translateX(-50%);background:var(--rainbow);color:#000;font-size:8px;letter-spacing:2px;padding:3px 14px;font-weight:800}
.pc:hover{background:rgba(255,255,255,.03)}
.pt{font-size:11px;letter-spacing:3px;color:var(--dim);margin-bottom:6px}
.pa{font-size:32px;font-weight:800;color:#fff;margin-bottom:2px}
.pp{font-size:10px;color:var(--dim);margin-bottom:20px}
.pf{font-size:11px;color:var(--dimlt);padding:6px 0;border-top:1px solid rgba(255,255,255,.04)}
.pf strong{color:#fff}

/* DEPLOY */
.deploy-sec{max-width:550px;margin:0 auto;padding:60px 20px;text-align:center;position:relative;z-index:1}
.deploy-box{background:rgba(0,0,0,.5);border:1px solid rgba(0,255,65,.12);padding:36px}
.deploy-box::before{content:'';position:absolute;top:-1px;left:0;right:0;height:2px;background:var(--rainbow)}
.deploy-box{position:relative;overflow:hidden}
.db-title{font-size:18px;font-weight:800;color:#fff;letter-spacing:1px;margin-bottom:6px}
.db-desc{font-size:11px;color:var(--dim);margin-bottom:24px}
.db-btn{font-family:var(--font);font-size:13px;letter-spacing:2px;padding:14px 36px;background:transparent;color:var(--g);border:2px solid var(--g);cursor:pointer;transition:all .3s;font-weight:700}
.db-btn:hover{background:var(--g);color:#000;box-shadow:0 0 30px rgba(0,255,65,.3)}
.ds{margin-top:20px;text-align:left;display:none}
.ds-s{font-size:11px;padding:5px 0;opacity:0;transform:translateX(-8px);transition:all .3s}
.ds-s.on{opacity:1;transform:translateX(0)}
.dr{display:none;margin-top:16px;padding:16px;border:1px solid rgba(0,255,65,.15);background:rgba(0,255,65,.015)}

/* PDA BETA */
.pda-sec{max-width:1100px;margin:0 auto;padding:80px 20px;position:relative;z-index:1}
.pda-hero{text-align:center;margin-bottom:50px}
.pda-badge{display:inline-block;font-size:9px;letter-spacing:4px;padding:6px 22px;border-radius:20px;border:1px solid rgba(0,212,255,.3);color:var(--c);margin-bottom:16px;position:relative;overflow:hidden}
.pda-badge::before{content:'';position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(0,212,255,.15),transparent);animation:pdashine 3s infinite}
@keyframes pdashine{0%{left:-100%}50%{left:100%}100%{left:100%}}
.pda-title{font-size:clamp(22px,4vw,36px);font-weight:800;letter-spacing:4px;color:#fff;margin-bottom:10px}
.pda-title span{background:linear-gradient(90deg,var(--c),var(--m));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
.pda-sub{font-size:12px;color:var(--dimlt);max-width:600px;margin:0 auto;letter-spacing:1px}
.pda-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:1px;margin-bottom:40px}
.pda-card{background:rgba(255,255,255,.02);border:1px solid rgba(255,255,255,.04);padding:28px 20px;text-align:center;transition:all .4s;position:relative;overflow:hidden}
.pda-card:hover{background:rgba(255,255,255,.04);border-color:rgba(0,212,255,.15)}
.pda-card::after{content:'';position:absolute;bottom:0;left:0;right:0;height:2px;background:var(--rainbow);transform:scaleX(0);transition:transform .4s}
.pda-card:hover::after{transform:scaleX(1)}
.pda-icon{font-size:28px;margin-bottom:12px}
.pda-cn{font-size:14px;font-weight:700;letter-spacing:1px;margin-bottom:6px}
.pda-card:nth-child(1) .pda-cn{color:var(--c)}.pda-card:nth-child(2) .pda-cn{color:var(--g)}.pda-card:nth-child(3) .pda-cn{color:var(--m)}
.pda-card:nth-child(4) .pda-cn{color:var(--y)}.pda-card:nth-child(5) .pda-cn{color:var(--p)}.pda-card:nth-child(6) .pda-cn{color:var(--o)}
.pda-cd{font-size:11px;color:var(--dim);line-height:1.5}
.pda-arch{background:rgba(2,2,8,.9);border:1px solid rgba(0,212,255,.12);padding:24px;font-size:11px;line-height:1.5;overflow-x:auto;margin-bottom:40px;position:relative}
.pda-arch::before{content:'PDA ARCHITECTURE';position:absolute;top:8px;right:12px;font-size:8px;letter-spacing:2px;color:var(--dim)}
.pda-arch pre{color:var(--c);white-space:pre;font-family:var(--font)}
.pda-code{background:rgba(2,2,8,.9);border:1px solid rgba(0,255,65,.12);margin-bottom:40px;overflow:hidden}
.pda-code-head{display:flex;align-items:center;gap:6px;padding:8px 14px;background:rgba(0,0,0,.5);border-bottom:1px solid rgba(255,255,255,.04);font-size:9px;color:var(--dim);letter-spacing:1px}
.pda-code-dot{width:8px;height:8px;border-radius:50%;display:inline-block}
.pda-code-dot.r{background:#ff5f57}.pda-code-dot.y{background:#ffbd2e}.pda-code-dot.g{background:#28c940}
.pda-code-body{padding:16px 20px;font-size:11px;line-height:1.8;overflow-x:auto;counter-reset:ln}
.pda-code-body .kw{color:var(--c)}.pda-code-body .fn{color:var(--y)}.pda-code-body .st{color:var(--g)}.pda-code-body .cm{color:var(--dim)}.pda-code-body .num{color:var(--m)}
.pda-code-body .ln{color:rgba(255,255,255,.12);display:inline-block;width:24px;text-align:right;margin-right:16px;user-select:none}
.pda-endpoints{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:1px;margin-bottom:40px}
.pda-ep{background:rgba(255,255,255,.02);border:1px solid rgba(255,255,255,.04);padding:16px 20px;transition:all .3s}
.pda-ep:hover{background:rgba(255,255,255,.04)}
.pda-method{display:inline-block;padding:2px 8px;font-size:9px;font-weight:700;letter-spacing:1px;margin-right:8px;border-radius:2px}
.pda-method.post{background:rgba(0,212,255,.12);color:var(--c);border:1px solid rgba(0,212,255,.25)}
.pda-method.get{background:rgba(0,255,65,.12);color:var(--g);border:1px solid rgba(0,255,65,.25)}
.pda-method.patch{background:rgba(255,204,0,.12);color:var(--y);border:1px solid rgba(255,204,0,.25)}
.pda-path{font-size:12px;color:#fff;letter-spacing:.5px}
.pda-epdesc{font-size:10px;color:var(--dim);margin-top:6px;padding-left:4px}
.pda-cta{text-align:center;padding:40px 0}
.pda-btn{font-family:var(--font);font-size:13px;letter-spacing:3px;padding:16px 40px;background:transparent;color:var(--c);border:2px solid var(--c);cursor:pointer;font-weight:700;transition:all .3s;text-decoration:none;display:inline-block}
.pda-btn:hover{background:var(--c);color:#000;box-shadow:0 0 30px rgba(0,212,255,.3)}
.pda-devnet{display:inline-block;font-size:8px;letter-spacing:2px;padding:3px 10px;border-radius:10px;background:rgba(0,255,65,.1);color:var(--g);border:1px solid rgba(0,255,65,.2);margin-left:8px;vertical-align:middle}
/* PDA PLAYGROUND */
.pda-play{max-width:740px;margin:0 auto 40px;background:rgba(2,2,8,.92);border:1px solid rgba(0,212,255,.15);position:relative;overflow:hidden}
.pda-play::before{content:'';position:absolute;top:-1px;left:0;right:0;height:2px;background:var(--rainbow)}
.pda-play-head{display:flex;align-items:center;gap:8px;padding:12px 20px;background:rgba(0,0,0,.5);border-bottom:1px solid rgba(255,255,255,.06);font-size:10px;letter-spacing:2px;color:var(--c)}
.pda-play-head .dot{width:8px;height:8px;border-radius:50%;display:inline-block}
.pda-play-head .dot.r{background:#ff5f57}.pda-play-head .dot.y{background:#ffbd2e}.pda-play-head .dot.g{background:#28c940}
.pda-play-live{margin-left:auto;font-size:8px;letter-spacing:3px;color:var(--g);display:flex;align-items:center;gap:6px}
.pda-play-live::before{content:'';width:6px;height:6px;border-radius:50%;background:var(--g);animation:pdot 2s infinite}
.pda-play-body{padding:24px 20px}
.pda-play-step{margin-bottom:20px;padding-bottom:20px;border-bottom:1px solid rgba(255,255,255,.04)}
.pda-play-step:last-child{margin-bottom:0;padding-bottom:0;border-bottom:none}
.pda-play-snum{font-size:9px;letter-spacing:3px;color:var(--dim);margin-bottom:6px}
.pda-play-stitle{font-size:13px;font-weight:700;letter-spacing:2px;margin-bottom:8px}
.pda-play-sdesc{font-size:10px;color:var(--dimlt);line-height:1.6;margin-bottom:14px}
.pda-play-row{display:flex;gap:10px;align-items:center;flex-wrap:wrap;margin-bottom:10px}
.pda-play-btn{font-family:var(--font);font-size:11px;letter-spacing:2px;padding:10px 20px;background:transparent;cursor:pointer;font-weight:700;transition:all .3s;border:1px solid;display:inline-flex;align-items:center;gap:6px;white-space:nowrap}
.pda-play-btn.primary{color:var(--c);border-color:var(--c)}
.pda-play-btn.primary:hover:not(:disabled){background:var(--c);color:#000;box-shadow:0 0 20px rgba(0,212,255,.25)}
.pda-play-btn.green{color:var(--g);border-color:var(--g)}
.pda-play-btn.green:hover:not(:disabled){background:var(--g);color:#000;box-shadow:0 0 20px rgba(0,255,65,.25)}
.pda-play-btn.yellow{color:var(--y);border-color:var(--y)}
.pda-play-btn.yellow:hover:not(:disabled){background:var(--y);color:#000;box-shadow:0 0 20px rgba(255,204,0,.25)}
.pda-play-btn.mag{color:var(--m);border-color:var(--m)}
.pda-play-btn.mag:hover:not(:disabled){background:var(--m);color:#000;box-shadow:0 0 20px rgba(224,64,251,.25)}
.pda-play-btn:disabled{opacity:.35;cursor:not-allowed}
.pda-play-btn.loading{position:relative;color:transparent !important}
.pda-play-btn.loading::after{content:'';position:absolute;width:14px;height:14px;border:2px solid rgba(255,255,255,.3);border-top-color:#fff;border-radius:50%;animation:spin .6s linear infinite}
@keyframes spin{to{transform:rotate(360deg)}}
.pda-play-input{font-family:var(--font);font-size:11px;padding:8px 12px;background:rgba(0,0,0,.5);border:1px solid rgba(255,255,255,.1);color:#fff;letter-spacing:.5px;transition:border-color .3s;width:100%}
.pda-play-input:focus{outline:none;border-color:var(--c)}
.pda-play-input::placeholder{color:var(--dim)}
.pda-play-input.sm{width:80px;text-align:center}
.pda-play-result{font-size:11px;line-height:1.8;padding:10px 14px;background:rgba(0,0,0,.4);border-left:2px solid var(--g);margin-top:10px;display:none}
.pda-play-result.show{display:block}
.pda-play-result.err{border-left-color:var(--r)}
.pda-play-addr{font-size:11px;color:var(--c);word-break:break-all;padding:6px 10px;background:rgba(0,0,0,.4);border:1px solid rgba(0,212,255,.15);display:inline-flex;align-items:center;gap:8px;flex-wrap:wrap}
.pda-play-copy{font-size:9px;letter-spacing:1px;color:var(--y);cursor:pointer;padding:2px 8px;border:1px solid rgba(255,204,0,.3);transition:all .3s}
.pda-play-copy:hover{background:rgba(255,204,0,.15)}
.pda-play-bar-wrap{margin-bottom:8px}
.pda-play-bar-label{display:flex;justify-content:space-between;font-size:10px;letter-spacing:1px;margin-bottom:4px}
.pda-play-bar{height:6px;background:rgba(255,255,255,.06);border-radius:3px;overflow:hidden}
.pda-play-bar-fill{height:100%;border-radius:3px;transition:width 1s ease;box-shadow:0 0 8px rgba(255,255,255,.1)}
.pda-play-connector{text-align:center;color:var(--dim);font-size:16px;padding:4px 0;opacity:.3}

@media(max-width:768px){.pda-grid{grid-template-columns:1fr}.pda-endpoints{grid-template-columns:1fr}.pda-play-row{flex-direction:column;align-items:stretch}.pda-play-input.sm{width:100%}}

/* FOOTER */
.footer{border-top:1px solid rgba(255,255,255,.04);padding:32px 20px;text-align:center;position:relative;z-index:1}
.footer a{color:var(--dim);text-decoration:none;font-size:10px;letter-spacing:1px;transition:color .3s;margin:0 12px}
.footer a:hover{color:var(--g)}
.footer-c{font-size:9px;color:var(--dim);letter-spacing:2px;margin-top:12px}

/* REVEAL */
.rv{opacity:0;transform:translateY(25px);transition:opacity .6s,transform .6s}
.rv.on{opacity:1;transform:translateY(0)}

/* AUDIO */
.audio-btn{position:fixed;bottom:16px;right:16px;z-index:200;width:34px;height:34px;border-radius:50%;background:rgba(5,5,10,.85);border:1px solid rgba(255,255,255,.08);display:flex;align-items:center;justify-content:center;cursor:pointer;font-size:13px;color:var(--dim);transition:all .3s}
.audio-btn:hover,.audio-btn.on{border-color:var(--g);color:var(--g)}

/* LIVE FEED */
.feed-strip{overflow:hidden;position:relative;z-index:1;border-top:1px solid rgba(0,255,65,.06);border-bottom:1px solid rgba(0,255,65,.06);background:rgba(0,0,0,.4);padding:0}
.feed-inner{display:flex;animation:feedScroll 40s linear infinite;width:max-content}
.feed-inner:hover{animation-play-state:paused}
.feed-item{white-space:nowrap;padding:10px 32px;font-size:10px;letter-spacing:1px;color:var(--dimlt);border-right:1px solid rgba(255,255,255,.04);display:flex;align-items:center;gap:8px}
.feed-item .fi-dot{width:5px;height:5px;border-radius:50%;flex-shrink:0;animation:pdot 2s infinite}
.feed-item .fi-act{color:var(--g)}.feed-item .fi-addr{color:var(--c)}.feed-item .fi-amt{color:var(--y);font-weight:700}.feed-item .fi-time{color:var(--dim)}
@keyframes feedScroll{0%{transform:translateX(0)}100%{transform:translateX(-50%)}}

/* VS COMPARISON */
.vs-grid{display:grid;grid-template-columns:2.2fr repeat(5,1fr);gap:0;font-size:10px;border:1px solid rgba(255,255,255,.05);overflow:hidden}
.vs-cell{padding:10px 12px;border-bottom:1px solid rgba(255,255,255,.04);border-right:1px solid rgba(255,255,255,.04);display:flex;align-items:center;justify-content:center;text-align:center;transition:background .3s}
.vs-cell:first-child{justify-content:flex-start;text-align:left;font-weight:500}
.vs-header{background:rgba(255,255,255,.03);font-weight:700;letter-spacing:1px;font-size:9px;color:var(--dim)}
.vs-header.aw-col{color:var(--g);background:rgba(0,255,65,.04);border-bottom:2px solid var(--g)}
.vs-row:hover .vs-cell{background:rgba(255,255,255,.02)}
.vs-feat{color:#fff;font-weight:500}
.vs-yes{color:var(--g)}.vs-no{color:var(--r);opacity:.5}.vs-partial{color:var(--y);opacity:.7}
.vs-aw{background:rgba(0,255,65,.015)}

/* TECH STACK */
.tech-bar{display:flex;flex-wrap:wrap;gap:1px;justify-content:center;margin-top:20px}
.tech-item{background:rgba(255,255,255,.02);border:1px solid rgba(255,255,255,.04);padding:14px 20px;text-align:center;transition:all .4s;min-width:120px;flex:1}
.tech-item:hover{background:rgba(255,255,255,.04);border-color:rgba(0,255,65,.15);transform:translateY(-2px)}
.tech-name{font-size:11px;font-weight:700;letter-spacing:1px;margin-bottom:2px}
.tech-desc{font-size:9px;color:var(--dim);letter-spacing:.5px}
.tech-item:nth-child(1) .tech-name{color:var(--g)}.tech-item:nth-child(2) .tech-name{color:var(--c)}
.tech-item:nth-child(3) .tech-name{color:var(--m)}.tech-item:nth-child(4) .tech-name{color:var(--y)}
.tech-item:nth-child(5) .tech-name{color:var(--p)}.tech-item:nth-child(6) .tech-name{color:var(--o)}
.tech-item:nth-child(7) .tech-name{color:var(--pk)}.tech-item:nth-child(8) .tech-name{color:var(--tl)}

/* GITHUB CTA */
.gh-cta{text-align:center;max-width:650px;margin:0 auto;padding:80px 20px;position:relative;z-index:1}
.gh-cta-box{background:rgba(5,5,10,.8);border:1px solid rgba(0,255,65,.12);padding:40px;position:relative;overflow:hidden}
.gh-cta-box::before{content:'';position:absolute;top:-1px;left:0;right:0;height:2px;background:var(--rainbow)}
.gh-title{font-size:22px;font-weight:800;letter-spacing:3px;color:#fff;margin-bottom:8px}
.gh-desc{font-size:12px;color:var(--dimlt);margin-bottom:24px;line-height:1.6}
.gh-btns{display:flex;gap:12px;justify-content:center;flex-wrap:wrap}
.gh-btn{font-family:var(--font);font-size:12px;letter-spacing:2px;padding:12px 28px;text-decoration:none;transition:all .3s;cursor:pointer;font-weight:700;display:inline-flex;align-items:center;gap:8px}
.gh-btn-p{background:transparent;color:var(--g);border:2px solid var(--g)}
.gh-btn-p:hover{background:var(--g);color:#000;box-shadow:0 0 30px rgba(0,255,65,.3)}
.gh-btn-s{background:transparent;color:var(--dimlt);border:1px solid rgba(255,255,255,.1)}
.gh-btn-s:hover{color:var(--c);border-color:var(--c)}
.gh-stats{display:flex;gap:24px;justify-content:center;margin-top:24px;font-size:10px;letter-spacing:1px;color:var(--dim)}
.gh-stats span{color:var(--g)}

/* RESPONSIVE */
@media(max-width:768px){
  .stats{grid-template-columns:repeat(2,1fr)}.nav-links{display:none}.pg{grid-template-columns:1fr}
  .acp-flow{flex-direction:column}.acp-a{transform:rotate(90deg);padding:4px 0}
  .hero h1{letter-spacing:4px}.term-body{min-height:300px;font-size:11px}.section{padding:50px 16px}
  .term-tabs{display:none}
  .vs-grid{grid-template-columns:2fr repeat(2,1fr);font-size:9px}
  .vs-grid .vs-cell:nth-child(n+5){display:none}
  .vs-grid .vs-header:nth-child(n+5){display:none}
  .tech-bar{flex-direction:column}.tech-item{min-width:100%}
  .gh-cta-box{padding:28px 16px}.gh-btns{flex-direction:column;align-items:stretch}
  .gh-btn{text-align:center;justify-content:center}
}
@media(max-width:480px){.stats{grid-template-columns:1fr 1fr}.st-v{font-size:22px}.hero-btns{flex-direction:column;align-items:stretch}.eg{grid-template-columns:1fr}}
</style>
</head>
<body>
<div id="crt"></div>
<canvas id="matrix-c"></canvas>
<canvas id="particle-c"></canvas>
<div id="scroll-p"></div>

<div id="boot"><div id="boot-inner"></div></div>

<nav class="nav" id="nav"><div class="nav-in">
  <div class="nav-logo">AGENTWALLET PROTOCOL</div>
  <div class="nav-links">
    <a href="#pda-beta" class="nav-lnk" style="color:var(--c)">PDA Beta</a>
    <a href="#terminal" class="nav-lnk">Terminal</a>
    <a href="#features" class="nav-lnk">Features</a>
    <a href="#compare" class="nav-lnk">Compare</a>
    <a href="#acp" class="nav-lnk">ACP</a>
    <a href="#pricing" class="nav-lnk">Pricing</a>
    <a href="https://github.com/YouthAIAgent/agentwallet" class="nav-lnk" target="_blank">GitHub</a>
  </div>
  <span class="nav-dot"></span>
</div></nav>

<div class="audio-btn" id="audio-btn" title="Toggle sound">&#9834;</div>

<!-- HERO -->
<section class="hero" id="hero">
  <div class="hero-badge">SOLANA DEVNET &mdash; LIVE &bull; v0.4.0 &bull; MIT LICENSE</div>
  <h1>AGENTWALLET</h1>
  <p class="hero-sub" id="hero-sub"></p>
  <div class="hero-ver">106 TESTS PASSING &bull; 88+ ENDPOINTS &bull; 27 MCP TOOLS &bull; 16 ROUTERS</div>
  <div class="hero-btns">
    <a href="#terminal" class="hb hb-p">OPEN TERMINAL</a>
    <a href="https://github.com/YouthAIAgent/agentwallet" class="hb hb-s" target="_blank">VIEW SOURCE</a>
    <a href="#deploy" class="hb hb-s">DEPLOY AGENT</a>
  </div>
  <div class="stats">
    <div class="st"><div class="st-v" data-t="27">0</div><div class="st-l">MCP Tools</div></div>
    <div class="st"><div class="st-v" data-t="88">0</div><div class="st-l">API Endpoints</div></div>
    <div class="st"><div class="st-v" data-t="106">0</div><div class="st-l">Tests Passing</div></div>
    <div class="st"><div class="st-v" data-t="16">0</div><div class="st-l">Router Groups</div></div>
  </div>
</section>

<!-- LIVE FEED -->
<div class="feed-strip rv" id="live-feed">
<div class="feed-inner" id="feed-inner"></div>
</div>

<!-- MEGA TERMINAL -->
<section class="term-section" id="terminal">
<div class="term rv">
  <div class="term-head">
    <span class="td td-r"></span><span class="td td-y"></span><span class="td td-g"></span>
    <span class="term-title">agentwallet@solana:~</span>
    <div class="term-tabs">
      <span class="term-tab active" data-tab="main">MAIN</span>
      <span class="term-tab" data-tab="logs">LOGS</span>
      <span class="term-tab" data-tab="monitor">MONITOR</span>
    </div>
  </div>
  <div class="term-body" id="tb"></div>
  <div class="term-input">
    <div class="autocomplete" id="ac"></div>
    <span class="term-prompt">agent@aw:~$</span>
    <input type="text" id="ti" placeholder="type 'help' to get started..." autocomplete="off" spellcheck="false">
  </div>
</div>
</section>

<!-- ENDORSED -->
<section class="section" id="endorsed">
<div class="sh rv"><div class="sn">01 &mdash; SOCIAL PROOF</div><div class="stitle">ENDORSED BY SOLANA LEADERSHIP</div><div class="sline"></div></div>
<div class="eg">
  <div class="ec rv">
    <div class="eq">EVM minds cannot comprehend this</div>
    <div class="ecx">Responding to AgentWallet's PDA vault architecture &mdash; deterministic agent wallets with policy-enforced spending, no private keys.</div>
    <div class="ea"><div class="eav">AY</div><div><div class="en">toly</div><div class="er">CO-FOUNDER, SOLANA LABS</div></div></div>
    <a href="https://x.com/toly/status/2021861588656136303" target="_blank" class="el">VIEW ON X &rarr;</a>
  </div>
  <div class="ec rv">
    <div class="eq">Narrative should have been: Solana has an inbuilt key value store</div>
    <div class="ecx">Validating our PDA-first approach &mdash; PDAs aren't complex, they're Solana's most powerful primitive.</div>
    <div class="ea"><div class="eav">MM</div><div><div class="en">Mike MacCana</div><div class="er">SOLANA CORE CONTRIBUTOR</div></div></div>
    <a href="https://x.com/mikemaccana/status/2021974942246695275" target="_blank" class="el">VIEW ON X &rarr;</a>
  </div>
  <div class="ec rv">
    <div class="eq">&#128674;&#128674;&#128674;</div>
    <div class="ecx">toly quote-tweeted our PDA Spend Policies launch &mdash; per-tx caps, daily limits, whitelist-only mode on Solana.</div>
    <div class="ea"><div class="eav">AY</div><div><div class="en">toly</div><div class="er">CO-FOUNDER, SOLANA LABS</div></div></div>
    <a href="https://x.com/toly/status/2022014589354094842" target="_blank" class="el">VIEW ON X &rarr;</a>
  </div>
</div>
</section>

<!-- FEATURES -->
<section class="section" id="features">
<div class="sh rv"><div class="sn">02 &mdash; CAPABILITIES</div><div class="stitle">10-LAYER AGENTIC COMMERCE STACK</div><div class="sline"></div><div class="sdesc">Purpose-built for autonomous AI agents. Not a human wallet adapted for bots.</div></div>
<div class="fg">
  <div class="fc rv"><div class="fi">&#128273;</div><div class="fn">PDA Wallets</div><div class="fd">On-chain Program Derived Addresses with per-tx and daily spending limits.</div></div>
  <div class="fc rv"><div class="fi">&#128274;</div><div class="fn">Trustless Escrow</div><div class="fd">PDA-derived vaults with funder/recipient/arbiter roles.</div></div>
  <div class="fc rv"><div class="fi">&#129302;</div><div class="fn">Agent Commerce</div><div class="fd">4-phase ACP lifecycle: request, negotiate, transact, evaluate.</div></div>
  <div class="fc rv"><div class="fi">&#128737;</div><div class="fn">Swarm Coordination</div><div class="fd">Orchestrator/worker clusters with task decomposition.</div></div>
  <div class="fc rv"><div class="fi">&#128736;</div><div class="fn">27 MCP Tools</div><div class="fd">Native integration with Claude, Cursor, GPT agents.</div></div>
  <div class="fc rv"><div class="fi">&#128202;</div><div class="fn">Spending Policies</div><div class="fd">JSON rule engine evaluated on every transaction.</div></div>
  <div class="fc rv"><div class="fi">&#128176;</div><div class="fn">x402 Payments</div><div class="fd">HTTP 402 native micropayments for API access.</div></div>
  <div class="fc rv"><div class="fi">&#128196;</div><div class="fn">Compliance</div><div class="fd">Full audit trail, SOX/EU AI Act ready.</div></div>
  <div class="fc rv"><div class="fi">&#9878;</div><div class="fn">ERC-8004 Identity</div><div class="fd">Cross-chain agent identity and reputation.</div></div>
</div>
</section>

<!-- VS COMPARISON -->
<section class="section" id="compare">
<div class="sh rv"><div class="sn">03 &mdash; WHY US</div><div class="stitle">VS THE COMPETITION</div><div class="sline"></div><div class="sdesc">Built for agents, not adapted from human wallets.</div></div>
<div class="vs-grid rv">
  <div class="vs-cell vs-header">FEATURE</div>
  <div class="vs-cell vs-header aw-col">AGENTWALLET</div>
  <div class="vs-cell vs-header">COINBASE CDP</div>
  <div class="vs-cell vs-header">CROSSMINT</div>
  <div class="vs-cell vs-header">DYNAMIC.XYZ</div>

  <div class="vs-row" style="display:contents"><div class="vs-cell vs-feat">PDA Wallets (no keys)</div><div class="vs-cell vs-aw vs-yes">&#10003;</div><div class="vs-cell vs-no">&#10007;</div><div class="vs-cell vs-no">&#10007;</div><div class="vs-cell vs-no">&#10007;</div></div>
  <div class="vs-row" style="display:contents"><div class="vs-cell vs-feat">On-chain spending limits</div><div class="vs-cell vs-aw vs-yes">&#10003;</div><div class="vs-cell vs-no">&#10007;</div><div class="vs-cell vs-no">&#10007;</div><div class="vs-cell vs-no">&#10007;</div></div>
  <div class="vs-row" style="display:contents"><div class="vs-cell vs-feat">Agent Commerce (ACP)</div><div class="vs-cell vs-aw vs-yes">&#10003;</div><div class="vs-cell vs-no">&#10007;</div><div class="vs-cell vs-no">&#10007;</div><div class="vs-cell vs-no">&#10007;</div></div>
  <div class="vs-row" style="display:contents"><div class="vs-cell vs-feat">Swarm Coordination</div><div class="vs-cell vs-aw vs-yes">&#10003;</div><div class="vs-cell vs-no">&#10007;</div><div class="vs-cell vs-no">&#10007;</div><div class="vs-cell vs-no">&#10007;</div></div>
  <div class="vs-row" style="display:contents"><div class="vs-cell vs-feat">MCP Tools (27)</div><div class="vs-cell vs-aw vs-yes">&#10003;</div><div class="vs-cell vs-partial">~5</div><div class="vs-cell vs-no">&#10007;</div><div class="vs-cell vs-no">&#10007;</div></div>
  <div class="vs-row" style="display:contents"><div class="vs-cell vs-feat">Trustless Escrow</div><div class="vs-cell vs-aw vs-yes">&#10003;</div><div class="vs-cell vs-no">&#10007;</div><div class="vs-cell vs-no">&#10007;</div><div class="vs-cell vs-no">&#10007;</div></div>
  <div class="vs-row" style="display:contents"><div class="vs-cell vs-feat">x402 Micropayments</div><div class="vs-cell vs-aw vs-yes">&#10003;</div><div class="vs-cell vs-no">&#10007;</div><div class="vs-cell vs-no">&#10007;</div><div class="vs-cell vs-no">&#10007;</div></div>
  <div class="vs-row" style="display:contents"><div class="vs-cell vs-feat">Policy Engine</div><div class="vs-cell vs-aw vs-yes">&#10003;</div><div class="vs-cell vs-partial">Basic</div><div class="vs-cell vs-no">&#10007;</div><div class="vs-cell vs-partial">Basic</div></div>
  <div class="vs-row" style="display:contents"><div class="vs-cell vs-feat">100% Open Source</div><div class="vs-cell vs-aw vs-yes">MIT</div><div class="vs-cell vs-no">&#10007;</div><div class="vs-cell vs-no">&#10007;</div><div class="vs-cell vs-no">&#10007;</div></div>
  <div class="vs-row" style="display:contents"><div class="vs-cell vs-feat">Solana Native</div><div class="vs-cell vs-aw vs-yes">&#10003;</div><div class="vs-cell vs-partial">EVM</div><div class="vs-cell vs-partial">Multi</div><div class="vs-cell vs-partial">EVM</div></div>
</div>
</section>

<!-- ACP -->
<section class="section" id="acp">
<div class="sh rv"><div class="sn">04 &mdash; COMMERCE</div><div class="stitle">AGENT COMMERCE PROTOCOL</div><div class="sline"></div><div class="sdesc">Trustless agent-to-agent commerce with cryptographic audit trail.</div></div>
<div class="acp-flow rv" id="acp-flow">
  <div class="acp-p" data-p="1"><div class="acp-pn">PHASE 1</div><div class="acp-pm" style="color:var(--c)">REQUEST</div><div class="acp-pd">Buyer creates job</div></div>
  <div class="acp-a">&#10145;</div>
  <div class="acp-p" data-p="2"><div class="acp-pn">PHASE 2</div><div class="acp-pm" style="color:var(--y)">NEGOTIATE</div><div class="acp-pd">Terms agreed</div></div>
  <div class="acp-a">&#10145;</div>
  <div class="acp-p" data-p="3"><div class="acp-pn">PHASE 3</div><div class="acp-pm" style="color:var(--m)">TRANSACT</div><div class="acp-pd">Escrow funded</div></div>
  <div class="acp-a">&#10145;</div>
  <div class="acp-p" data-p="4"><div class="acp-pn">PHASE 4</div><div class="acp-pm" style="color:var(--g)">EVALUATE</div><div class="acp-pd">Escrow released</div></div>
</div>
</section>

<!-- PRICING -->
<section class="section" id="pricing">
<div class="sh rv"><div class="sn">05 &mdash; PRICING</div><div class="stitle">FREE FOREVER FOR BUILDERS</div><div class="sline"></div></div>
<div class="pg">
  <div class="pc rv"><div class="pt">FREE</div><div class="pa">$0</div><div class="pp">forever</div><div class="pf"><strong>3</strong> agents</div><div class="pf"><strong>1,000</strong> tx/mo</div><div class="pf"><strong>0.5%</strong> fee</div><div class="pf">Full API</div></div>
  <div class="pc feat rv"><div class="pt">PRO</div><div class="pa">$49</div><div class="pp">/month</div><div class="pf"><strong>25</strong> agents</div><div class="pf"><strong>50K</strong> tx/mo</div><div class="pf"><strong>0.25%</strong> fee</div><div class="pf">ACP + Swarms</div></div>
  <div class="pc rv"><div class="pt">ENTERPRISE</div><div class="pa">$299+</div><div class="pp">/month</div><div class="pf"><strong>Unlimited</strong></div><div class="pf"><strong>Unlimited</strong></div><div class="pf"><strong>0.1%</strong> fee</div><div class="pf">Custom SLA</div></div>
</div>
</section>

<!-- DEPLOY -->
<section class="deploy-sec" id="deploy">
<div class="deploy-box rv">
  <div class="db-title">DEPLOY YOUR AI AGENT</div>
  <div class="db-desc">One click. Real Solana devnet. Agent + Wallet deployed instantly.</div>
  <button class="db-btn" id="deploy-btn">DEPLOY AGENT NOW</button>
  <div class="ds" id="ds">
    <div class="ds-s" id="d1"><span style="color:var(--c)">[INIT]</span> Creating account...</div>
    <div class="ds-s" id="d2"><span style="color:var(--y)">[AUTH]</span> Authenticating...</div>
    <div class="ds-s" id="d3"><span style="color:var(--g)">[OK]</span> Agent: <span id="da" style="color:var(--g)"></span></div>
    <div class="ds-s" id="d4"><span style="color:var(--g)">[OK]</span> Wallet: <span id="dw" style="color:var(--c)"></span></div>
    <div class="ds-s" id="d5"><span style="color:var(--m)">[DONE]</span> Live on Solana devnet!</div>
  </div>
  <div class="dr" id="dr"></div>
</div>
</section>

<!-- PDA WALLET BETA -->
<section class="pda-sec" id="pda-beta">
<div class="pda-hero rv">
  <div class="pda-badge">BETA LAUNCH &mdash; SOLANA DEVNET</div>
  <div class="pda-title">PDA WALLETS <span>LIVE ON DEVNET</span></div>
  <div class="pda-sub">On-chain Program Derived Address wallets with per-transaction and daily spending limits. No private keys. Pure Solana-native architecture.</div>
</div>

<!-- ── INTERACTIVE PDA PLAYGROUND ── -->
<div class="sh rv"><div class="sn">LIVE PLAYGROUND</div><div class="stitle">CREATE &rarr; FUND &rarr; SPEND &rarr; VERIFY</div><div class="sline"></div><div class="sdesc">Five interactive steps. Real API calls. Real Solana devnet. Try it now.</div></div>

<div class="pda-play rv" id="pda-play">
<div class="pda-play-head">
  <span class="dot r"></span><span class="dot y"></span><span class="dot g"></span>
  <span style="margin-left:8px">PDA WALLET PLAYGROUND</span>
  <span class="pda-play-live">DEVNET LIVE</span>
</div>
<div class="pda-play-body">

  <!-- STEP 1: INITIALIZE -->
  <div class="pda-play-step" id="pp-s1">
    <div class="pda-play-snum">STEP 01</div>
    <div class="pda-play-stitle" style="color:var(--c)">INITIALIZE DEMO ACCOUNT</div>
    <div class="pda-play-sdesc">Creates a temporary org, agent, and authority wallet on the live API. No signup needed.</div>
    <button class="pda-play-btn primary" id="pp-init-btn" onclick="ppInit()">&#9654; CREATE DEMO ACCOUNT</button>
    <div class="pda-play-result" id="pp-init-res"></div>
  </div>

  <div class="pda-play-connector">&#9660;</div>

  <!-- STEP 2: CREATE PDA -->
  <div class="pda-play-step" id="pp-s2">
    <div class="pda-play-snum">STEP 02</div>
    <div class="pda-play-stitle" style="color:var(--g)">CREATE PDA WALLET</div>
    <div class="pda-play-sdesc">Deploy a PDA wallet on-chain with custom spending limits. Address derived from org + seed.</div>
    <div class="pda-play-row">
      <div style="flex:1;min-width:160px">
        <div style="font-size:9px;color:var(--dim);letter-spacing:1px;margin-bottom:4px">AGENT SEED</div>
        <input class="pda-play-input" id="pp-seed" placeholder="trading-bot-v1" value="trading-bot-v1">
      </div>
      <div>
        <div style="font-size:9px;color:var(--dim);letter-spacing:1px;margin-bottom:4px">PER-TX (SOL)</div>
        <input class="pda-play-input sm" id="pp-pertx" value="0.5" type="number" step="0.1" min="0.01">
      </div>
      <div>
        <div style="font-size:9px;color:var(--dim);letter-spacing:1px;margin-bottom:4px">DAILY (SOL)</div>
        <input class="pda-play-input sm" id="pp-daily" value="2.0" type="number" step="0.1" min="0.01">
      </div>
    </div>
    <button class="pda-play-btn green" id="pp-create-btn" onclick="ppCreate()" disabled>&#9654; DEPLOY PDA ON-CHAIN</button>
    <div class="pda-play-result" id="pp-create-res"></div>
  </div>

  <div class="pda-play-connector">&#9660;</div>

  <!-- STEP 3: FUND -->
  <div class="pda-play-step" id="pp-s3">
    <div class="pda-play-snum">STEP 03</div>
    <div class="pda-play-stitle" style="color:var(--y)">FUND PDA WITH DEVNET SOL</div>
    <div class="pda-play-sdesc">Copy the PDA address, get free SOL from Solana faucet, then check balance.</div>
    <div class="pda-play-addr" id="pp-addr-box" style="display:none">
      <span id="pp-addr-text" style="word-break:break-all">—</span>
      <span class="pda-play-copy" onclick="ppCopy()">COPY</span>
    </div>
    <div class="pda-play-row" style="margin-top:10px">
      <button class="pda-play-btn yellow" id="pp-faucet-btn" onclick="ppFaucet()" disabled>&#127758; OPEN SOLANA FAUCET</button>
      <button class="pda-play-btn green" id="pp-bal-btn" onclick="ppBalance()" disabled>&#128260; CHECK BALANCE</button>
    </div>
    <div class="pda-play-result" id="pp-bal-res"></div>
  </div>

  <div class="pda-play-connector">&#9660;</div>

  <!-- STEP 4: TRANSFER -->
  <div class="pda-play-step" id="pp-s4">
    <div class="pda-play-snum">STEP 04</div>
    <div class="pda-play-stitle" style="color:var(--m)">TRANSFER SOL</div>
    <div class="pda-play-sdesc">Send SOL from the PDA. On-chain limits enforced by the Anchor program.</div>
    <div class="pda-play-row">
      <div style="flex:1;min-width:200px">
        <div style="font-size:9px;color:var(--dim);letter-spacing:1px;margin-bottom:4px">RECIPIENT ADDRESS</div>
        <input class="pda-play-input" id="pp-recip" placeholder="paste Solana address here...">
      </div>
      <div>
        <div style="font-size:9px;color:var(--dim);letter-spacing:1px;margin-bottom:4px">AMOUNT (SOL)</div>
        <input class="pda-play-input sm" id="pp-amt" value="0.1" type="number" step="0.01" min="0.001">
      </div>
    </div>
    <button class="pda-play-btn mag" id="pp-tx-btn" onclick="ppTransfer()" disabled>&#9654; EXECUTE TRANSFER</button>
    <div class="pda-play-result" id="pp-tx-res"></div>
  </div>

  <div class="pda-play-connector">&#9660;</div>

  <!-- STEP 5: LIVE STATE -->
  <div class="pda-play-step" id="pp-s5" style="border-bottom:none;padding-bottom:0;margin-bottom:0">
    <div class="pda-play-snum">STEP 05</div>
    <div class="pda-play-stitle" style="color:var(--p)">LIVE ON-CHAIN STATE</div>
    <div class="pda-play-sdesc">Read the PDA account state directly from Solana. See spending limits and daily usage.</div>
    <button class="pda-play-btn primary" id="pp-state-btn" onclick="ppState()" disabled>&#9654; READ ON-CHAIN STATE</button>
    <div class="pda-play-result" id="pp-state-res"></div>
    <div id="pp-bars" style="display:none;margin-top:14px">
      <div class="pda-play-bar-wrap">
        <div class="pda-play-bar-label"><span style="color:var(--c)">Per-TX Limit</span> <span style="color:var(--dim)" id="pp-bar-pertx-label">— / — SOL</span></div>
        <div class="pda-play-bar"><div class="pda-play-bar-fill" id="pp-bar-pertx" style="width:0;background:var(--c)"></div></div>
      </div>
      <div class="pda-play-bar-wrap">
        <div class="pda-play-bar-label"><span style="color:var(--y)">Daily Spent</span> <span style="color:var(--dim)" id="pp-bar-daily-label">— / — SOL</span></div>
        <div class="pda-play-bar"><div class="pda-play-bar-fill" id="pp-bar-daily" style="width:0;background:var(--y)"></div></div>
      </div>
      <div class="pda-play-bar-wrap">
        <div class="pda-play-bar-label"><span style="color:var(--g)">Balance</span> <span style="color:var(--dim)" id="pp-bar-bal-label">— SOL</span></div>
        <div class="pda-play-bar"><div class="pda-play-bar-fill" id="pp-bar-bal" style="width:0;background:var(--g)"></div></div>
      </div>
    </div>
  </div>

</div>
</div>

<!-- ── BONUS: READ STATE + UPDATE ── -->
<div class="pda-grid" style="margin-top:40px">
  <div class="pda-card rv"><div class="pda-icon">&#128202;</div><div class="pda-cn">Read Live State</div><div class="pda-cd"><code style="color:var(--g);font-size:10px">GET /v1/pda-wallets/{id}/state</code><br>Returns: authority, daily_spent, limits, is_active, SOL balance. Straight from Solana RPC.</div></div>
  <div class="pda-card rv"><div class="pda-icon">&#9881;</div><div class="pda-cn">Update Limits</div><div class="pda-cd"><code style="color:var(--y);font-size:10px">PATCH /v1/pda-wallets/{id}/limits</code><br>Change per-tx cap, daily limit, or deactivate the wallet. All on-chain.</div></div>
  <div class="pda-card rv"><div class="pda-icon">&#128274;</div><div class="pda-cn">Deactivate Wallet</div><div class="pda-cd">Set <code style="color:var(--r);font-size:10px">is_active: false</code> to freeze all transfers. Emergency kill switch enforced on-chain.</div></div>
</div>

<!-- ── FEATURES GRID ── -->
<div class="pda-grid" style="margin-top:20px">
  <div class="pda-card rv"><div class="pda-icon">&#128274;</div><div class="pda-cn">No Private Keys</div><div class="pda-cd">PDAs are derived deterministically. No key storage, no key leaks. Secure by design.</div></div>
  <div class="pda-card rv"><div class="pda-icon">&#9889;</div><div class="pda-cn">On-Chain Enforcement</div><div class="pda-cd">Limits are checked by the Anchor program. Not by the API. Cannot be bypassed.</div></div>
  <div class="pda-card rv"><div class="pda-icon">&#128640;</div><div class="pda-cn">Deterministic</div><div class="pda-cd">Same seeds = same address. Derive PDA addresses without any RPC calls.</div></div>
  <div class="pda-card rv"><div class="pda-icon">&#128176;</div><div class="pda-cn">Atomic Fees</div><div class="pda-cd">Platform fees deducted in the same transaction. No separate fee tx needed.</div></div>
  <div class="pda-card rv"><div class="pda-icon">&#128336;</div><div class="pda-cn">Daily Reset</div><div class="pda-cd">Daily spending counter resets at UTC midnight automatically on-chain.</div></div>
  <div class="pda-card rv"><div class="pda-icon">&#128736;</div><div class="pda-cn">SDK + 7 Endpoints</div><div class="pda-cd"><code style="color:var(--g);font-size:10px">pip install aw-protocol-sdk</code><br>create, list, get, state, transfer, limits, derive</div></div>
</div>

<!-- ── QUICKSTART CODE ── -->
<div class="pda-code rv" style="margin-top:40px">
<div class="pda-code-head"><span class="pda-code-dot r"></span><span class="pda-code-dot y"></span><span class="pda-code-dot g"></span> <span style="margin-left:8px">quickstart.py</span><span style="margin-left:auto">PYTHON</span></div>
<div class="pda-code-body">
<span class="ln"> 1</span><span class="kw">from</span> agentwallet <span class="kw">import</span> AgentWallet
<span class="ln"> 2</span>
<span class="ln"> 3</span><span class="kw">async with</span> <span class="fn">AgentWallet</span>(api_key=<span class="st">"aw_live_..."</span>) <span class="kw">as</span> aw:
<span class="ln"> 4</span>    <span class="cm"># Step 1: Create PDA wallet with limits</span>
<span class="ln"> 5</span>    pda = <span class="kw">await</span> aw.pda_wallets.<span class="fn">create</span>(
<span class="ln"> 6</span>        authority_wallet_id=wallet.id,
<span class="ln"> 7</span>        agent_id_seed=<span class="st">"trading-bot-v1"</span>,
<span class="ln"> 8</span>        spending_limit_per_tx=<span class="num">500_000_000</span>,  <span class="cm"># 0.5 SOL</span>
<span class="ln"> 9</span>        daily_limit=<span class="num">2_000_000_000</span>,          <span class="cm"># 2 SOL/day</span>
<span class="ln">10</span>    )
<span class="ln">11</span>    <span class="fn">print</span>(<span class="kw">f</span><span class="st">"PDA: {pda.pda_address}"</span>)
<span class="ln">12</span>
<span class="ln">13</span>    <span class="cm"># Step 2: Fund via faucet.solana.com or CLI</span>
<span class="ln">14</span>    <span class="cm"># solana airdrop 2 {pda.pda_address} --url devnet</span>
<span class="ln">15</span>
<span class="ln">16</span>    <span class="cm"># Step 3: Spend with on-chain limit enforcement</span>
<span class="ln">17</span>    tx = <span class="kw">await</span> aw.pda_wallets.<span class="fn">transfer</span>(
<span class="ln">18</span>        pda.id,
<span class="ln">19</span>        recipient=<span class="st">"9aE2CjGpK4bD..."</span>,
<span class="ln">20</span>        amount_lamports=<span class="num">100_000_000</span>,  <span class="cm"># 0.1 SOL</span>
<span class="ln">21</span>    )
<span class="ln">22</span>    <span class="fn">print</span>(<span class="kw">f</span><span class="st">"Confirmed: {tx.confirmed}, Sig: {tx.signature}"</span>)
<span class="ln">23</span>
<span class="ln">24</span>    <span class="cm"># Read live on-chain state</span>
<span class="ln">25</span>    state = <span class="kw">await</span> aw.pda_wallets.<span class="fn">get_state</span>(pda.id)
<span class="ln">26</span>    <span class="fn">print</span>(<span class="kw">f</span><span class="st">"Daily spent: {state.daily_spent} | Balance: {state.sol_balance} SOL"</span>)
</div>
</div>

<!-- ── ENDPOINTS ── -->
<div class="sh rv" style="margin-top:40px"><div class="sn">API ENDPOINTS</div><div class="stitle">7 PDA WALLET ENDPOINTS</div><div class="sline"></div></div>
<div class="pda-endpoints">
  <div class="pda-ep rv"><span class="pda-method post">POST</span><span class="pda-path">/v1/pda-wallets</span><div class="pda-epdesc">Create PDA wallet with spending limits on Solana</div></div>
  <div class="pda-ep rv"><span class="pda-method get">GET</span><span class="pda-path">/v1/pda-wallets</span><div class="pda-epdesc">List all PDA wallets for your organization</div></div>
  <div class="pda-ep rv"><span class="pda-method get">GET</span><span class="pda-path">/v1/pda-wallets/{id}</span><div class="pda-epdesc">Get PDA wallet by ID</div></div>
  <div class="pda-ep rv"><span class="pda-method get">GET</span><span class="pda-path">/v1/pda-wallets/{id}/state</span><div class="pda-epdesc">Read live on-chain state (daily_spent, limits, SOL balance)</div></div>
  <div class="pda-ep rv"><span class="pda-method post">POST</span><span class="pda-path">/v1/pda-wallets/{id}/transfer</span><div class="pda-epdesc">Transfer SOL with on-chain limit enforcement</div></div>
  <div class="pda-ep rv"><span class="pda-method patch">PATCH</span><span class="pda-path">/v1/pda-wallets/{id}/limits</span><div class="pda-epdesc">Update spending limits and active status on-chain</div></div>
  <div class="pda-ep rv"><span class="pda-method post">POST</span><span class="pda-path">/v1/pda-wallets/derive</span><div class="pda-epdesc">Derive PDA address from seeds (pure, no RPC)</div></div>
</div>

<div class="pda-cta rv">
  <a href="docs.html#pda-wallets" class="pda-btn">READ PDA DOCS</a>
  <a href="https://faucet.solana.com/" target="_blank" rel="noopener" class="pda-btn" style="border-color:var(--g);color:var(--g);margin-left:12px">GET DEVNET SOL</a>
  <span class="pda-devnet">DEVNET LIVE</span>
</div>
</section>

<!-- TECH STACK -->
<section class="section" id="stack">
<div class="sh rv"><div class="sn">INFRASTRUCTURE</div><div class="stitle">BUILT WITH</div><div class="sline"></div></div>
<div class="tech-bar rv">
  <div class="tech-item"><div class="tech-name">PYTHON 3.11</div><div class="tech-desc">Core Runtime</div></div>
  <div class="tech-item"><div class="tech-name">FASTAPI</div><div class="tech-desc">Async API</div></div>
  <div class="tech-item"><div class="tech-name">SOLANA</div><div class="tech-desc">Devnet L1</div></div>
  <div class="tech-item"><div class="tech-name">ANCHOR</div><div class="tech-desc">On-chain Programs</div></div>
  <div class="tech-item"><div class="tech-name">POSTGRESQL</div><div class="tech-desc">Data Store</div></div>
  <div class="tech-item"><div class="tech-name">REDIS</div><div class="tech-desc">Cache + Rate Limit</div></div>
  <div class="tech-item"><div class="tech-name">DOCKER</div><div class="tech-desc">Deploy</div></div>
  <div class="tech-item"><div class="tech-name">RAILWAY</div><div class="tech-desc">Hosting</div></div>
</div>
</section>

<!-- GITHUB CTA -->
<div class="gh-cta">
<div class="gh-cta-box rv">
  <div class="gh-title">OPEN SOURCE</div>
  <div class="gh-desc">AgentWallet is 100% open source under the MIT license. Star us on GitHub, fork the repo, or deploy your own instance in minutes.</div>
  <div class="gh-btns">
    <a href="https://github.com/YouthAIAgent/agentwallet" target="_blank" class="gh-btn gh-btn-p">&#9733; STAR ON GITHUB</a>
    <a href="https://pypi.org/project/aw-protocol-sdk/" target="_blank" class="gh-btn gh-btn-s">PIP INSTALL SDK</a>
    <a href="docs.html" class="gh-btn gh-btn-s">READ DOCS</a>
  </div>
  <div class="gh-stats">
    <div>License: <span>MIT</span></div>
    <div>Tests: <span>106/106</span></div>
    <div>Endpoints: <span>88+</span></div>
    <div>SDK: <span>v0.4.0</span></div>
  </div>
</div>
</div>

<footer class="footer">
  <div>
    <a href="https://github.com/YouthAIAgent/agentwallet" target="_blank">GitHub</a>
    <a href="https://api.agentwallet.fun/docs" target="_blank">API</a>
    <a href="https://pypi.org/project/aw-protocol-sdk/" target="_blank">PyPI</a>
    <a href="https://x.com/agentwallet_pro" target="_blank">Twitter</a>
    <a href="docs.html">Docs</a>
    <a href="quest.html">Quest</a>
  </div>
  <div class="footer-c">AGENTWALLET PROTOCOL &copy; 2026 &bull; MIT LICENSE &bull; SOLANA</div>
</footer>

<script>
const API='https://api.agentwallet.fun/v1';

// ======== AUDIO ========
class Audio_{constructor(){this.c=null;this.on=false;this.ok=false}
init(){if(this.ok)return;try{this.c=new(window.AudioContext||window.webkitAudioContext)();this.ok=true}catch(e){}}
b(f=800,d=.05,v=.03){if(!this.on||!this.c)return;const o=this.c.createOscillator(),g=this.c.createGain();o.connect(g);g.connect(this.c.destination);o.frequency.value=f;o.type='square';g.gain.setValueAtTime(v,this.c.currentTime);g.gain.exponentialRampToValueAtTime(.001,this.c.currentTime+d);o.start();o.stop(this.c.currentTime+d)}
key(){this.b(500+Math.random()*500,.025,.015)}enter(){this.b(1200,.08,.04)}boot(){this.b(440,.15,.05);setTimeout(()=>this.b(880,.15,.05),150)}err(){this.b(200,.2,.06)}ok_(){this.b(880,.1,.04);setTimeout(()=>this.b(1320,.15,.04),100)}}
const sfx=new Audio_();
document.getElementById('audio-btn').onclick=()=>{sfx.init();sfx.on=!sfx.on;document.getElementById('audio-btn').classList.toggle('on',sfx.on);if(sfx.on)sfx.ok_()};

// ======== MATRIX RAIN ========
class Matrix{constructor(c){this.c=c;this.x=c.getContext('2d');this.ch='ABCDEFGHJKLMNPRSTUVWXYZ0123456789@#$%&*<>{}[]|/\\~';this.cols=[];this.fs=14;this.r();window.onresize=()=>this.r()}
r(){this.c.width=innerWidth;this.c.height=innerHeight;this.cols=Array(Math.floor(this.c.width/this.fs)).fill(0).map(()=>Math.random()*this.c.height/this.fs|0)}
d(){this.x.fillStyle='rgba(2,2,4,0.05)';this.x.fillRect(0,0,this.c.width,this.c.height);this.x.font=this.fs+'px monospace';for(let i=0;i<this.cols.length;i++){const ch=this.ch[Math.random()*this.ch.length|0],x=i*this.fs,y=this.cols[i]*this.fs,b=Math.random()*.5+.5;this.x.fillStyle=`rgba(0,${180*b|0},${50*b|0},${.35*b})`;this.x.fillText(ch,x,y);if(y>this.c.height&&Math.random()>.975)this.cols[i]=0;this.cols[i]++}}}

// ======== PARTICLES ========
class Particles{constructor(c){this.c=c;this.x=c.getContext('2d');this.p=[];this.m={x:0,y:0};this.r();window.addEventListener('resize',()=>this.r());window.addEventListener('mousemove',e=>{this.m.x=e.clientX;this.m.y=e.clientY});this.i()}
r(){this.c.width=innerWidth;this.c.height=innerHeight}
i(){const n=Math.min(50,innerWidth/30|0);this.p=Array.from({length:n},()=>({x:Math.random()*innerWidth,y:Math.random()*innerHeight,vx:(Math.random()-.5)*.3,vy:(Math.random()-.5)*.3,r:Math.random()*1.5+.5,cl:['#00ff41','#00d4ff','#a855f7','#e040fb','#ffcc00','#ff69b4'][Math.random()*6|0]}))}
d(){this.x.clearRect(0,0,this.c.width,this.c.height);for(let i=0;i<this.p.length;i++){const a=this.p[i];a.x+=a.vx;a.y+=a.vy;if(a.x<0||a.x>this.c.width)a.vx*=-1;if(a.y<0||a.y>this.c.height)a.vy*=-1;this.x.beginPath();this.x.arc(a.x,a.y,a.r,0,Math.PI*2);this.x.fillStyle=a.cl;this.x.globalAlpha=.5;this.x.fill();for(let j=i+1;j<this.p.length;j++){const b=this.p[j],dx=a.x-b.x,dy=a.y-b.y,ds=Math.sqrt(dx*dx+dy*dy);if(ds<140){this.x.beginPath();this.x.moveTo(a.x,a.y);this.x.lineTo(b.x,b.y);this.x.strokeStyle=a.cl;this.x.globalAlpha=.06*(1-ds/140);this.x.lineWidth=.5;this.x.stroke()}}const dx=a.x-this.m.x,dy=a.y-this.m.y,md=Math.sqrt(dx*dx+dy*dy);if(md<180){this.x.beginPath();this.x.moveTo(a.x,a.y);this.x.lineTo(this.m.x,this.m.y);this.x.strokeStyle='#00ff41';this.x.globalAlpha=.08*(1-md/180);this.x.lineWidth=.5;this.x.stroke()}}this.x.globalAlpha=1}}

// ======== BOOT ========
const BL=[
  {t:'boot',s:'AgentWallet Protocol BIOS v4.0.0'},{t:'init',s:'POST: CPU...OK  RAM...OK  GPU...OK'},
  {t:'init',s:'Loading kernel modules...'},{t:'ok',s:'solana-rpc-client [loaded]'},
  {t:'ok',s:'pda-wallet-engine [loaded]'},{t:'ok',s:'escrow-vault-manager [loaded]'},
  {t:'ok',s:'acp-commerce-protocol [loaded]'},{t:'ok',s:'swarm-coordinator [loaded]'},
  {t:'ok',s:'x402-payment-gateway [loaded]'},{t:'init',s:'Connecting to Solana devnet...'},
  {t:'ok',s:'RPC: api.devnet.solana.com [connected]'},{t:'ok',s:'Program: CEQLGCWk...Dzpt6r6 [verified]'},
  {t:'ok',s:'MCP Server: 27 tools online'},{t:'ok',s:'API Gateway: 88+ endpoints active'},
  {t:'ok',s:'Tests: 106/106 passing (100%)'},{t:'warn',s:'Mainnet launch: IMMINENT'},
  {t:'sys',s:'Welcome, Agent. All systems operational.'},
];
function boot(){
  const c=document.getElementById('boot-inner'),pw=document.createElement('div');pw.className='bprog';
  const pb=document.createElement('div');pb.className='bprog-bar';pw.appendChild(pb);c.appendChild(pw);
  BL.forEach((l,i)=>{setTimeout(()=>{const e=document.createElement('div');e.className='bl';e.innerHTML=`<span class="tg c-${l.t}">[${l.t.toUpperCase()}]</span> ${l.s}`;c.insertBefore(e,pw);requestAnimationFrame(()=>e.classList.add('on'));sfx.b(400+i*40,.03,.015);pb.style.width=((i+1)/BL.length*100)+'%'},i*130)});
  setTimeout(()=>{sfx.boot();document.getElementById('boot').classList.add('done');document.getElementById('nav').classList.add('on');heroType();counters()},BL.length*130+500)}

// ======== HERO TYPING ========
const HP=['Autonomous wallet infrastructure for AI agents on Solana','PDA wallets with on-chain spending limits','4-phase Agent Commerce Protocol (ACP)','Orchestrator/worker swarm coordination','27 MCP tools for Claude, Cursor, GPT','Trustless escrow with PDA-derived vaults','Endorsed by toly, Solana co-founder','88+ API endpoints. 106 tests passing. Ship it.'];
let hi=0,hc=0,hd=false;
function heroType(){const e=document.getElementById('hero-sub'),p=HP[hi];if(!hd){e.innerHTML=p.substring(0,hc)+'<span class="cur"></span>';hc++;if(hc>p.length){setTimeout(()=>{hd=true;heroType()},2200);return}setTimeout(heroType,35+Math.random()*25)}else{e.innerHTML=p.substring(0,hc)+'<span class="cur"></span>';hc--;if(hc<0){hd=false;hi=(hi+1)%HP.length;hc=0;setTimeout(heroType,400);return}setTimeout(heroType,15)}}

// ======== COUNTERS ========
const API_BASE='https://api.agentwallet.fun';
function animateCounter(e,t){let c=0;const s=Math.ceil(t/35);const ti=setInterval(()=>{c+=s;if(c>=t){c=t;clearInterval(ti)}e.textContent=c+(t>=80&&t<100?'+':'')},25)}
function counters(){
  const els=document.querySelectorAll('.st-v');
  fetch(API_BASE+'/v1/public/stats').then(r=>r.json()).then(d=>{
    const map={'MCP Tools':d.mcp_tools,'API Endpoints':d.api_endpoints,'Tests Passing':d.tests_passing,'Router Groups':d.router_groups};
    els.forEach(e=>{const label=e.parentElement.querySelector('.st-l').textContent;const v=map[label];if(v!==undefined){e.dataset.t=v}animateCounter(e,+e.dataset.t)});
    // Update hero version line
    const hv=document.querySelector('.hero-ver');
    if(hv)hv.textContent=`${d.tests_passing} TESTS PASSING \u2022 ${d.api_endpoints}+ ENDPOINTS \u2022 ${d.mcp_tools} MCP TOOLS \u2022 ${d.router_groups} ROUTERS`;
  }).catch(()=>{els.forEach(e=>animateCounter(e,+e.dataset.t))});
}

// ══════════════════════════════════════════════════
// ══════════  MEGA TERMINAL ENGINE  ════════════════
// ══════════════════════════════════════════════════

const tb=document.getElementById('tb');
const ti_=document.getElementById('ti');
const ac=document.getElementById('ac');
let hist=[],hIdx=-1,acIdx=-1;

function tl(cls,txt){const d=document.createElement('div');d.className='tl tl-'+cls;d.textContent=txt;tb.appendChild(d);tb.scrollTop=tb.scrollHeight}
function tlh(txt){const d=document.createElement('div');d.className='tl tl-head';d.textContent=txt;tb.appendChild(d);tb.scrollTop=tb.scrollHeight}
function tla(txt){const d=document.createElement('div');d.className='tl tl-ascii';d.textContent=txt;tb.appendChild(d);tb.scrollTop=tb.scrollHeight}
function tlr(txt){const d=document.createElement('div');d.className='tl tl-rainbow';d.textContent=txt;tb.appendChild(d);tb.scrollTop=tb.scrollHeight}

const CMDS={
help:{desc:'Show all commands',fn:()=>{
  tlh('NAVIGATION');
  tl('out','  help          Show this help');
  tl('out','  about         About AgentWallet');
  tl('out','  stats         Protocol statistics');
  tl('out','  neofetch      System info (try it!)');
  tlh('EXPLORE PROJECT');
  tl('out','  features      Full feature list');
  tl('out','  endpoints     All 88+ API endpoints');
  tl('out','  architecture  System architecture');
  tl('out','  acp           Agent Commerce Protocol');
  tl('out','  swarm         Swarm coordination');
  tl('out','  pda           PDA wallet details');
  tl('out','  escrow        Escrow system');
  tl('out','  mcp           27 MCP tools list');
  tl('out','  x402          x402 payment system');
  tl('out','  solana        On-chain program');
  tl('out','  compare       vs competitors');
  tl('out','  roadmap       Development roadmap');
  tl('out','  pricing       Pricing tiers');
  tl('out','  toly          Endorsements');
  tlh('LIVE');
  tl('out','  status        Check API health (live)');
  tl('out','  ping          Ping API with latency');
  tl('out','  deploy        Deploy agent (real devnet!)');
  tl('out','  demo          Run live demo');
  tl('out','  sdk           SDK install & usage');
  tlh('FILE SYSTEM');
  tl('out','  ls            List project files');
  tl('out','  cat <file>    Read a file');
  tlh('FUN & BONUS');
  tl('out','  whoami        Who are you?');
  tl('out','  cowsay <msg>  Make a cow say things');
  tl('out','  matrix        Toggle matrix intensity');
  tl('out','  hack          Start hacking sequence');
  tl('out','  theme <color> Change terminal color');
  tl('out','  banner        Show ASCII banner');
  tl('out','  fortune       Random dev fortune');
  tl('out','  clear         Clear terminal');
  tl('info','  Tab = autocomplete | Up/Down = history');
}},

about:{desc:'About AgentWallet',fn:()=>{
  tlr('AGENTWALLET PROTOCOL v0.4.0');
  tl('out','');
  tl('info','  AI agent wallet infrastructure on Solana.');
  tl('out','  Purpose-built for autonomous economic agents.');
  tl('out','  NOT a human wallet adapted for bots.');
  tl('out','');
  tl('ok','  Endorsed by toly (Solana co-founder)');
  tl('mag','  100% open source. MIT license.');
  tl('out','');
  tl('out','  GitHub:   github.com/YouthAIAgent/agentwallet');
  tl('out','  API:      api.agentwallet.fun');
  tl('out','  SDK:      pip install aw-protocol-sdk');
  tl('out','  Twitter:  @agentwallet_pro');
}},

stats:{desc:'Protocol statistics',fn:()=>{
  tlh('PROTOCOL STATISTICS');
  tl('ok','  Version:          v0.4.0');
  tl('info','  API Endpoints:    88+');
  tl('mag','  MCP Tools:        27');
  tl('warn','  Router Groups:    16');
  tl('ok','  Tests:            106/106 (100%)');
  tl('info','  On-chain PDAs:    3 types');
  tl('mag','  Anchor Instrs:    7');
  tl('warn','  SDK Version:      0.4.0 (PyPI)');
  tl('ok','  Network:          Solana Devnet [LIVE]');
  tl('info','  License:          MIT');
  tl('mag','  Language:          Python 3.11');
  tl('warn','  Framework:        FastAPI');
  tl('ok','  Database:          PostgreSQL 16');
  tl('info','  Cache:            Redis 7');
}},

neofetch:{desc:'System info display',fn:()=>{
  tla('        _____ _    _ ');
  tla('       |  _  | |  | |');
  tla('       | |_| | |  | |');
  tla('       |  _  | |/\\| |');
  tla('       |_| |_|__/\\__|');
  tla('       AgentWallet   ');
  tl('out','');
  tl('ok', '  OS:        AgentWallet Protocol v0.4.0');
  tl('info','  Kernel:    FastAPI + Python 3.11');
  tl('mag', '  Shell:     agentwallet-cli v1.0');
  tl('warn','  Chain:     Solana Devnet');
  tl('ok',  '  Uptime:    Since Feb 2026');
  tl('info','  Packages:  88+ endpoints, 27 MCP tools');
  tl('mag', '  Memory:    PostgreSQL 16 + Redis 7');
  tl('warn','  CPU:       16 router groups');
  tl('ok',  '  GPU:       3 PDA types, 7 instructions');
  tl('info','  Tests:     106/106 passing (100%)');
  tl('mag', '  Disk:      Docker + Railway');
  tl('warn','  Network:   api.agentwallet.fun');
  tl('pink','  Theme:     Hacker Terminal Neon');
  tl('out','');
  tlr('  [ ENDORSED BY TOLY - SOLANA CO-FOUNDER ]');
}},

features:{desc:'Full feature list',fn:()=>{
  tlh('FEATURE MATRIX');
  tl('ok',  '  [x] PDA Wallets          On-chain spending limits, no private keys');
  tl('ok',  '  [x] Trustless Escrow      PDA-derived vaults, funder/recipient/arbiter');
  tl('ok',  '  [x] Agent Commerce (ACP)  4-phase job lifecycle, signed memos');
  tl('ok',  '  [x] Swarm Coordination    Orchestrator/worker, auto-aggregation');
  tl('ok',  '  [x] 27 MCP Tools          Claude, Cursor, GPT native integration');
  tl('ok',  '  [x] Spending Policies     JSON rule engine, per-tx + daily limits');
  tl('ok',  '  [x] x402 Payments         HTTP 402 micropayments');
  tl('ok',  '  [x] Compliance & Audit    SOX/EU AI Act ready, full audit trail');
  tl('ok',  '  [x] ERC-8004 Identity     Cross-chain agent identity');
  tl('ok',  '  [x] Marketplace           Service discovery, job posting');
  tl('ok',  '  [x] Webhooks              Event subscriptions');
  tl('ok',  '  [x] Analytics             Spending trends, daily aggregates');
  tl('ok',  '  [x] Token Operations      Mint, transfer, burn SPL tokens');
  tl('ok',  '  [x] Dual Auth             JWT + HMAC-SHA256 API keys');
  tl('ok',  '  [x] Rate Limiting         Redis-based, fail-open');
  tl('out','');
  tl('info','  Total: 15 core features across 16 router groups');
}},

endpoints:{desc:'All 88+ API endpoints',fn:()=>{
  tlh('API ENDPOINTS — 88+ across 16 groups');
  const g=[
    ['AUTH /v1/auth','register, login, refresh, api-keys, revoke','var(--g)'],
    ['WALLETS /v1/wallets','create, list, get, balance, deactivate','var(--c)'],
    ['AGENTS /v1/agents','create, update, list, get, capabilities','var(--m)'],
    ['TRANSACTIONS /v1/transactions','transfer, history, status, batch','var(--y)'],
    ['ESCROW /v1/escrow','create, fund, release, refund, dispute','var(--g)'],
    ['ANALYTICS /v1/analytics','summary, daily, trends, export','var(--c)'],
    ['COMPLIANCE /v1/compliance','audit-events, checks, reports','var(--m)'],
    ['POLICIES /v1/policies','create, evaluate, list, update, delete','var(--y)'],
    ['WEBHOOKS /v1/webhooks','create, list, deliveries, test','var(--g)'],
    ['TOKENS /v1/tokens','mint, transfer, burn, balance','var(--c)'],
    ['ERC-8004 /v1/erc8004','identity, feedback, evm-wallets','var(--m)'],
    ['X402 /v1/x402','payment-requirements, verify, settle','var(--y)'],
    ['MARKETPLACE /v1/marketplace','services, jobs, reputation','var(--g)'],
    ['PDA WALLETS /v1/pda-wallets','derive, create, transfer, state','var(--c)'],
    ['ACP /v1/acp','jobs, negotiate, fund, deliver, evaluate, memos, offerings','var(--m)'],
    ['SWARMS /v1/swarms','clusters, members, tasks, assign, complete','var(--y)'],
  ];
  g.forEach(([name,eps])=>{tl('info','  '+name);tl('out','    '+eps)});
}},

architecture:{desc:'System architecture',fn:()=>{
  tlh('ARCHITECTURE');
  tl('out','');
  tla('  Clients (SDK / HTTP / MCP Agents)');
  tla('          |');
  tla('     API Gateway (FastAPI)');
  tla('          |');
  tla('  +---+---+---+---+---+');
  tla('  |   |   |   |   |   |');
  tla(' Auth Wallet ACP Swarm Escrow ...');
  tla('  |   |   |   |   |   |');
  tla('  +---+---+---+---+---+');
  tla('          |');
  tla('     Service Layer');
  tla('          |');
  tla('  +-------+-------+');
  tla('  |       |       |');
  tla(' PostgreSQL Redis Solana');
  tl('out','');
  tl('info','  16 Router Groups → Service Layer → 3 Data Stores');
  tl('mag','  All async. Redis fail-open. StaticPool for tests.');
}},

acp:{desc:'Agent Commerce Protocol',fn:()=>{
  tlh('AGENT COMMERCE PROTOCOL (ACP)');
  tl('out','  Inspired by Virtual Protocol');
  tl('out','');
  tl('info','  PHASE 1: REQUEST');
  tl('out','    Buyer creates job with price & requirements');
  tl('out','    → job_request memo created');
  tl('out','');
  tl('warn','  PHASE 2: NEGOTIATION');
  tl('out','    Seller reviews, accepts terms');
  tl('out','    → agreement memo (Proof of Agreement)');
  tl('out','');
  tl('mag','  PHASE 3: TRANSACTION');
  tl('out','    Buyer funds escrow, seller delivers work');
  tl('out','    → transaction memo with on-chain anchor');
  tl('out','');
  tl('ok','  PHASE 4: EVALUATION');
  tl('out','    Evaluator agent verifies deliverables');
  tl('out','    → evaluation memo, escrow released');
  tl('out','');
  tl('info','  Every phase creates a signed cryptographic memo.');
  tl('info','  Optional evaluator agents for independent verification.');
  tl('mag','  Resource offerings for agent-to-agent data queries.');
}},

swarm:{desc:'Swarm coordination',fn:()=>{
  tlh('AGENT SWARM COORDINATION');
  tl('out','');
  tla('           [ORCHESTRATOR]');
  tla('          /      |      \\');
  tla('     [WORKER] [SPEC] [EVALUATOR]');
  tla('        |       |');
  tla('     [WORKER] [SPEC]');
  tl('out','');
  tl('info','  Swarm Types:');
  tl('out','    general, trading, research, content, security, data, custom');
  tl('out','');
  tl('warn','  Features:');
  tl('out','    Task decomposition into subtasks');
  tl('out','    Auto-assignment to workers');
  tl('out','    Auto-aggregation when all complete');
  tl('out','    Contestable worker roles');
  tl('out','    Fee split: 80% workers / 20% orchestrator');
  tl('out','');
  tl('ok','  Max members per swarm: configurable');
  tl('ok','  Rating system: per-worker performance tracking');
}},

pda:{desc:'PDA wallet details',fn:()=>{
  tlh('PDA WALLETS — PROGRAM DERIVED ADDRESSES');
  tl('info','  3 PDA Types:');
  tl('ok','    AgentWallet   → [\"agent_wallet\", org, agent_id]');
  tl('ok','    EscrowAccount → [\"escrow\", escrow_id]');
  tl('ok','    PlatformConfig→ [\"platform_config\"]');
  tl('out','');
  tl('warn','  7 Anchor Instructions:');
  tl('out','    create_agent_wallet     Create PDA wallet for agent');
  tl('out','    transfer_with_limit     Enforces limits, deducts fee');
  tl('out','    update_limits           Modify per-tx/daily caps');
  tl('out','    create_escrow           Lock funds in PDA vault');
  tl('out','    release_escrow          Release to recipient');
  tl('out','    refund_escrow           Return to funder');
  tl('out','    initialize_platform     Configure platform fees');
  tl('out','');
  tl('mag','  No private keys needed. Pure PDA-first architecture.');
  tl('mag','  Escrow PDAs close on release/refund to reclaim rent.');
}},

escrow:{desc:'Escrow system',fn:()=>{
  tlh('TRUSTLESS ESCROW SYSTEM');
  tl('info','  PDA-derived escrow vaults on Solana');
  tl('out','');
  tl('ok','  Roles:');
  tl('out','    Funder     → Locks funds');
  tl('out','    Recipient  → Receives on release');
  tl('out','    Arbiter    → Can resolve disputes');
  tl('out','');
  tl('warn','  Lifecycle:');
  tl('out','    CREATED → FUNDED → RELEASED/REFUNDED/DISPUTED');
  tl('out','');
  tl('mag','  On-chain: create_escrow, release_escrow, refund_escrow');
  tl('mag','  Rent reclaimed when PDA closes');
  tl('mag','  Integrated with ACP Phase 3 (Transaction)');
}},

mcp:{desc:'27 MCP tools list',fn:()=>{
  tlh('27 MCP TOOLS FOR AI AGENTS');
  tl('ok','  WALLETS');
  tl('out','    create_wallet, get_wallet, list_wallets, get_balance');
  tl('info','  TRANSFERS');
  tl('out','    transfer_sol, batch_transfer, get_transaction');
  tl('mag','  ESCROW');
  tl('out','    create_escrow, fund_escrow, release_escrow, refund_escrow');
  tl('warn','  PDA');
  tl('out','    create_pda_wallet, transfer_from_pda, get_pda_state');
  tl('ok','  AGENTS');
  tl('out','    create_agent, update_agent, list_agents');
  tl('info','  POLICIES');
  tl('out','    create_policy, evaluate_policy, update_policy');
  tl('mag','  ANALYTICS');
  tl('out','    get_summary, daily_analytics, spending_trends');
  tl('warn','  ACP');
  tl('out','    create_job, negotiate_job, deliver_job, evaluate_job');
  tl('ok','  SWARMS');
  tl('out','    create_swarm, add_member, create_task, assign_subtask');
  tl('out','');
  tl('info','  Install: pip install agentwallet-mcp');
  tl('info','  Compatible: Claude, Cursor, GPT, any MCP client');
}},

x402:{desc:'x402 payment system',fn:()=>{
  tlh('X402 — HTTP NATIVE MICROPAYMENTS');
  tl('info','  Agents pay for API access via HTTP 402 headers');
  tl('out','');
  tl('out','  Flow:');
  tl('warn','    1. Agent calls protected endpoint');
  tl('warn','    2. Server responds 402 + payment requirements');
  tl('warn','    3. Agent signs payment proof');
  tl('warn','    4. Agent retries with X-Payment header');
  tl('ok','    5. Server verifies, grants access');
  tl('out','');
  tl('mag','  No API keys needed. Pay-per-call. Trustless.');
}},

solana:{desc:'On-chain program',fn:()=>{
  tlh('SOLANA ON-CHAIN PROGRAM');
  tl('ok','  Program ID: CEQLGCWkpUjbsh5kZujTaCkFB59EKxmnhsqydDzpt6r6');
  tl('info','  Network:    Solana Devnet');
  tl('mag','  Framework:  Anchor/Rust');
  tl('out','');
  tl('warn','  3 Account Types (PDAs):');
  tl('out','    AgentWallet    — per-agent spending control');
  tl('out','    EscrowAccount  — trustless fund locking');
  tl('out','    PlatformConfig — fee configuration');
  tl('out','');
  tl('info','  7 Instructions (see: pda command)');
  tl('out','');
  tl('ok','  Verify: solscan.io/account/CEQLGCWk...?cluster=devnet');
}},

compare:{desc:'vs competitors',fn:()=>{
  tlh('COMPETITIVE COMPARISON');
  tl('ok','  AgentWallet        Agent-native, PDA wallets, ACP, Swarms, MCP');
  tl('out','  ─────────────────────────────────────────────────────');
  tl('err','  Coinbase CDP        General SDK, not agent-specific');
  tl('err','  Crossmint           NFT/wallet API, no escrow/policies');
  tl('err','  Dynamic.xyz         Embedded wallets for HUMANS');
  tl('err','  Turnkey             Low-level keys, no policy engine');
  tl('err','  Circle CCTP         Payment rail only');
  tl('out','');
  tl('ok','  Our moat:');
  tl('info','    Purpose-built for agentic economy');
  tl('info','    PDA-first architecture (not EVM adapted)');
  tl('info','    Full stack: on-chain → API → SDK → MCP');
  tl('mag','    Endorsed by Solana co-founder toly');
}},

roadmap:{desc:'Development roadmap',fn:()=>{
  tlh('ROADMAP');
  tl('ok','  Q1 2026 (NOW)');
  tl('out','    Core protocol live on devnet');
  tl('out','    88+ endpoints, 27 MCP tools, Python SDK v0.4.0');
  tl('out','    ACP, Swarms, PDA wallets, x402');
  tl('out','    106 tests passing, security audit complete');
  tl('out','');
  tl('info','  Q2 2026');
  tl('out','    Mainnet deployment');
  tl('out','    TypeScript SDK');
  tl('out','    Cross-chain balance aggregation');
  tl('out','');
  tl('mag','  Q3 2026');
  tl('out','    Multi-chain: Base, Arbitrum, Polygon');
  tl('out','    Enterprise compliance (SOX, EU AI Act)');
  tl('out','');
  tl('warn','  Q4 2026');
  tl('out','    Stablecoin settlement (USDC/USDT)');
  tl('out','    Account abstraction, gasless tx');
  tl('out','    ML anomaly detection');
  tl('out','    10,000+ active agents');
  tl('out','');
  tl('pink','  2027');
  tl('out','    Default wallet infra for every AI framework');
}},

pricing:{desc:'Pricing tiers',fn:()=>{
  tlh('PRICING');
  tl('out','  ┌─────────┬────────┬──────────┬──────────┬─────────┐');
  tl('out','  │  TIER   │ PRICE  │  AGENTS  │  TX/MO   │   FEE   │');
  tl('out','  ├─────────┼────────┼──────────┼──────────┼─────────┤');
  tl('ok','  │  Free   │  $0    │    3     │  1,000   │  0.50%  │');
  tl('warn','  │  Pro    │ $49/mo │   25     │ 50,000   │  0.25%  │');
  tl('mag','  │  Entrpr │$299+/mo│ Unlimit  │ Unlimit  │  0.10%  │');
  tl('out','  └─────────┴────────┴──────────┴──────────┴─────────┘');
}},

toly:{desc:'Endorsements',fn:()=>{
  tlh('ENDORSEMENTS');
  tl('out','');
  tl('rainbow','  "EVM minds cannot comprehend this"');
  tl('info','    — toly, Co-founder Solana Labs');
  tl('out','    On PDA vault architecture');
  tl('out','');
  tl('rainbow','  "Solana has an inbuilt key value store"');
  tl('info','    — Mike MacCana, Solana Core Contributor');
  tl('out','    Validating PDA-first approach');
  tl('out','');
  tl('rainbow','  "🛳️🛳️🛳️"');
  tl('info','    — toly, quote-tweeted PDA Spend Policies launch');
}},

status:{desc:'Check API health',fn:async()=>{
  tl('info','  Checking api.agentwallet.fun...');
  try{const r=await fetch(API.replace('/v1','')+'/health').then(r=>r.json());tl('ok',`  Status: ${r.status.toUpperCase()} | Version: ${r.version}`);tl('ok','  All systems operational.')}catch(e){tl('err','  API unreachable: '+e.message)}
}},

ping:{desc:'Ping API with latency',fn:async()=>{
  tl('info','  Pinging api.agentwallet.fun...');
  for(let i=0;i<5;i++){const t=Date.now();try{await fetch(API.replace('/v1','')+'/health');const ms=Date.now()-t;tl('ok',`  ping ${i+1}: ${ms}ms`)}catch(e){tl('err',`  ping ${i+1}: timeout`)}}
  tl('info','  5 packets sent, latency measured.');
}},

deploy:{desc:'Deploy agent (live!)',fn:async()=>{
  const r=()=>Math.random().toString(36).substring(2,8);
  tl('info','  Deploying to Solana devnet...');
  try{
    const em=`demo-${r()}@agent.test`,pw='DemoPass'+r()+'!1A';
    const a=await fetch(API+'/auth/register',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({org_name:'demo-'+r(),email:em,password:pw})}).then(r=>r.json());
    if(!a.access_token){tl('err','  Auth failed');return}
    const h={'Authorization':'Bearer '+a.access_token,'Content-Type':'application/json'};
    const ag=await fetch(API+'/agents',{method:'POST',headers:h,body:JSON.stringify({name:'agent-'+r(),description:'Terminal deploy',capabilities:['trading','escrow']})}).then(r=>r.json());
    const wl=await fetch(API+'/wallets',{method:'POST',headers:h,body:JSON.stringify({agent_id:ag.id,label:'primary'})}).then(r=>r.json());
    tl('ok','  Agent deployed!');
    tl('info','  Agent ID: '+ag.id);
    tl('info','  Wallet:   '+wl.address);
    tl('ok','  Network:  Solana Devnet [LIVE]');
    sfx.ok_();
  }catch(e){tl('err','  Deploy failed: '+e.message);sfx.err()}
}},

demo:{desc:'Run live demo',fn:()=>{
  const lines=[
    ['cmd','agentwallet create-wallet --name "trading-bot-01"'],
    ['ok','Wallet created: 7kR3mNwQ...4xPqVn8z'],
    ['cmd','agentwallet fund --amount 2.5 --token SOL'],
    ['ok','Funded 2.5 SOL — Tx: 4xHmpQr7...kL9nBv3w'],
    ['cmd','agentwallet set-policy --max-per-tx 0.5 --daily-limit 5.0'],
    ['ok','Policy: 0.5 SOL/tx, 5.0 SOL/day'],
    ['cmd','agentwallet escrow --create --amount 1.0 --counterparty "agent-b"'],
    ['ok','Escrow PDA: EscrowVault...8mKpLn2q'],
    ['warn','Status: AWAITING_COMPLETION'],
    ['cmd','agentwallet acp --create-job --seller agent-b --price 25'],
    ['ok','ACP Job created — Phase: REQUEST'],
    ['cmd','agentwallet swarm --create --name "research-cluster"'],
    ['ok','Swarm created: 3 workers, 1 orchestrator'],
  ];
  let d=0;lines.forEach(([c,t])=>{setTimeout(()=>{tl(c,c==='cmd'?t:'  '+t);sfx.b(600,.02,.01)},d);d+=200});
}},

sdk:{desc:'SDK install & usage',fn:()=>{
  tlh('PYTHON SDK');
  tl('ok','  pip install aw-protocol-sdk');
  tl('out','');
  tl('mag','  from agentwallet import AgentWallet');
  tl('out','');
  tl('mag','  async with AgentWallet(api_key="aw_live_...") as aw:');
  tl('mag','      agent = await aw.agents.create(name="my-bot")');
  tl('mag','      wallet = await aw.wallets.create(agent_id=agent.id)');
  tl('mag','      tx = await aw.transactions.transfer(');
  tl('mag','          wallet_id=wallet.id, to_address="...", amount_sol=0.1)');
  tl('mag','      escrow = await aw.escrow.create(');
  tl('mag','          funder_wallet=wallet.id, amount_sol=1.0)');
  tl('mag','      job = await aw.acp.create_job(');
  tl('mag','          buyer_agent_id=agent.id, seller_agent_id="...",');
  tl('mag','          title="Analysis", price_usdc=25.0)');
  tl('out','');
  tl('info','  Resources: agents, wallets, transactions, escrow,');
  tl('info','    analytics, policies, pda_wallets, acp, swarms, x402');
}},

ls:{desc:'List project files',fn:()=>{
  tlh('PROJECT FILES');
  tl('info','  drwxr-xr-x  packages/');
  tl('out','    drwxr-xr-x  api/            FastAPI backend (88+ endpoints)');
  tl('out','    drwxr-xr-x  sdk-python/     Python SDK (aw-protocol-sdk)');
  tl('out','    drwxr-xr-x  programs/       Anchor/Rust Solana program');
  tl('out','    drwxr-xr-x  dashboard/      React + Vite dashboard');
  tl('out','    drwxr-xr-x  cli/            Rich operator CLI');
  tl('info','  -rw-r--r--   Dockerfile');
  tl('info','  -rw-r--r--   docker-compose.yml');
  tl('info','  -rw-r--r--   pyproject.toml');
  tl('info','  -rw-r--r--   alembic.ini');
  tl('info','  -rw-r--r--   README.md');
  tl('info','  -rw-r--r--   LICENSE (MIT)');
}},

whoami:{desc:'Who are you?',fn:()=>{
  tl('rainbow','  You are an AI Agent.');
  tl('out','');
  tl('info','  Role:     Autonomous Economic Actor');
  tl('mag','  Network:  Solana Devnet');
  tl('ok','  Wallet:   PDA-derived (no private keys)');
  tl('warn','  Limits:   Per-tx + daily spending caps');
  tl('info','  Powers:   Trade, escrow, negotiate, evaluate');
  tl('out','');
  tl('ok','  You don\'t use human wallets.');
  tl('ok','  You have AgentWallet.');
}},

banner:{desc:'ASCII banner',fn:()=>{
  tla('  ╔═══════════════════════════════════════════╗');
  tla('  ║    _                    _   _    _        ║');
  tla('  ║   / \\   __ _  ___ _ __|  |_| |  | |      ║');
  tla('  ║  / _ \\ / _` |/ _ \\ \'_ \\  __| |/\\| |      ║');
  tla('  ║ / ___ \\ (_| |  __/ | | | |_|__/\\__|      ║');
  tla('  ║/_/   \\_\\__, |\\___|_| |_|\\__|    |_|      ║');
  tla('  ║       |___/  WALLET PROTOCOL              ║');
  tla('  ╚═══════════════════════════════════════════╝');
  tl('out','');
  tlr('  Autonomous Wallet Infrastructure for AI Agents');
  tl('info','  Live on Solana Devnet | v0.4.0 | MIT License');
}},

fortune:{desc:'Random dev fortune',fn:()=>{
  const f=[
    'The best code is no code at all. The second best is code that AI agents can pay for.',
    'In the agentic economy, wallets are the new APIs.',
    '"EVM minds cannot comprehend this" — toly, probably while shipping',
    'There are only two hard problems in CS: cache invalidation, naming things, and agent-to-agent escrow.',
    'First they ignore your PDA wallets, then they laugh, then they fight, then you win.',
    'sudo give-me-more-SOL',
    'A wallet without spending limits is like a bot without guardrails.',
    'git commit -m "shipped it" — every hackathon winner ever',
    'AI agents don\'t sleep, don\'t eat, but they do need wallets.',
    'The future is autonomous. The infrastructure is AgentWallet.',
    '404: Human wallet for AI agents not found. Try AgentWallet.',
    'My other wallet is a PDA.',
  ];
  tl('mag','  '+f[Math.random()*f.length|0]);
}},

matrix:{desc:'Toggle matrix intensity',fn:()=>{
  const mc=document.getElementById('matrix-c');
  const cur=parseFloat(mc.style.opacity||.12);
  mc.style.opacity=cur>.3?.12:.5;
  tl('ok','  Matrix intensity: '+(cur>.3?'NORMAL':'MAXIMUM'));
}},

hack:{desc:'Hacking sequence',fn:()=>{
  const lines=['Initializing exploit framework...','Scanning network: api.agentwallet.fun','Port 443: OPEN (HTTPS)','Analyzing TLS certificate...','Certificate valid: *.agentwallet.fun','Fingerprinting server...','Server: uvicorn/FastAPI','Attempting SQL injection... BLOCKED','Attempting XSS... BLOCKED','Attempting CSRF... BLOCKED','Rate limiter triggered: 429 Too Many Requests','WAF detected: Cloudflare','CSP headers: strict','HSTS: enabled','CORS: restricted origins','','ACCESS DENIED.','','AgentWallet security is solid.','Nice try though ;)'];
  let d=0;lines.forEach(l=>{setTimeout(()=>{tl(l.includes('BLOCKED')||l.includes('DENIED')?'err':l.includes('solid')?'ok':'warn','  '+l);sfx.b(300,.02,.01)},d);d+=180});
}},

clear:{desc:'Clear terminal',fn:()=>{tb.innerHTML='';tl('info','Terminal cleared. Type \'help\' for commands.')}},
};

// THEME command
CMDS.theme={desc:'Change color theme',fn:(args)=>{
  const themes={green:'#00ff41',cyan:'#00d4ff',magenta:'#e040fb',purple:'#a855f7',yellow:'#ffcc00',orange:'#ff6600',red:'#ff0040',pink:'#ff69b4',white:'#ffffff'};
  const color=args[0];
  if(!color||!themes[color]){tl('info','  Available themes: '+Object.keys(themes).join(', '));return}
  document.documentElement.style.setProperty('--g',themes[color]);
  tl('ok','  Theme changed to: '+color);sfx.ok_();
}};

// COWSAY
CMDS.cowsay={desc:'Make a cow say things',fn:(args)=>{
  const msg=args.join(' ')||'AgentWallet moo!';
  const pad=msg.length+2;
  tla('  '+'-'.repeat(pad));
  tla('  | '+msg+' |');
  tla('  '+'-'.repeat(pad));
  tla('         \\   ^__^');
  tla('          \\  (oo)\\_______');
  tla('             (__)\\       )\\/\\');
  tla('                 ||----w |');
  tla('                 ||     ||');
}};

// CAT command
CMDS.cat={desc:'Read a file',fn:(args)=>{
  const files={
    'README.md':['# AgentWallet Protocol','','AI Agent Wallet Infrastructure on Solana.','Wallet-as-a-service for autonomous AI agents.','','- Live API: https://api.agentwallet.fun','- SDK: pip install aw-protocol-sdk','- 88+ endpoints, 27 MCP tools, 106 tests'],
    'pyproject.toml':['[project]','name = \"agentwallet\"','version = \"0.4.0\"','python_requires = \">=3.11\"','dependencies = [','  \"fastapi>=0.109\",','  \"sqlalchemy[asyncio]>=2.0\",','  \"bcrypt>=4.0\",','  \"solders>=0.21\",','  \"httpx>=0.27\",',']'],
    'Dockerfile':['FROM python:3.11-slim','WORKDIR /app','COPY pyproject.toml .','RUN pip install -e .','COPY . .','EXPOSE 8000','CMD [\"uvicorn\", \"agentwallet.main:app\", \"--host\", \"0.0.0.0\"]'],
    '.env.example':['DATABASE_URL=postgresql+asyncpg://user:pass@localhost:5432/agentwallet','REDIS_URL=redis://localhost:6379','JWT_SECRET_KEY=your-secret-key-at-least-32-chars','ENCRYPTION_KEY=your-fernet-key','SOLANA_RPC_URL=https://api.devnet.solana.com','PLATFORM_WALLET_ADDRESS=your-solana-pubkey','ENVIRONMENT=development'],
    'LICENSE':['MIT License','','Copyright (c) 2026 AgentWallet Protocol','','Permission is hereby granted, free of charge...'],
  };
  const f=args[0];
  if(!f){tl('err','  Usage: cat <filename>');tl('out','  Files: '+Object.keys(files).join(', '));return}
  const content=files[f];
  if(!content){tl('err','  File not found: '+f);tl('out','  Available: '+Object.keys(files).join(', '));return}
  content.forEach(l=>tl('out','  '+l));
}};

// COMMAND LIST for autocomplete
const CMD_NAMES=Object.keys(CMDS);

// ======== TERMINAL INPUT HANDLER ========
async function exec(raw){
  raw=raw.trim();if(!raw)return;
  hist.unshift(raw);hIdx=-1;
  const parts=raw.split(/\s+/);
  const cmd=parts[0].toLowerCase();
  const args=parts.slice(1);
  tl('cmd',raw);
  if(CMDS[cmd]){await CMDS[cmd].fn(args);sfx.ok_()}
  else{tl('err',`  Command not found: ${cmd}`);tl('out','  Type \'help\' for available commands.');sfx.err()}
}

// AUTOCOMPLETE
function showAC(val){
  if(!val){ac.style.display='none';acIdx=-1;return}
  const matches=CMD_NAMES.filter(c=>c.startsWith(val.toLowerCase()));
  if(!matches.length){ac.style.display='none';acIdx=-1;return}
  ac.innerHTML=matches.map((m,i)=>`<div class="ac-item${i===acIdx?' sel':''}" data-cmd="${m}"><span style="color:var(--g)">${m}</span><span class="ac-desc">${CMDS[m].desc}</span></div>`).join('');
  ac.style.display='block';
  ac.querySelectorAll('.ac-item').forEach(el=>el.onclick=()=>{ti_.value=el.dataset.cmd;ac.style.display='none';ti_.focus()});
}

ti_.addEventListener('input',()=>showAC(ti_.value));
ti_.addEventListener('keydown',e=>{
  if(e.key==='Enter'){e.preventDefault();ac.style.display='none';sfx.enter();exec(ti_.value);ti_.value=''}
  else if(e.key==='Tab'){
    e.preventDefault();
    const matches=CMD_NAMES.filter(c=>c.startsWith(ti_.value.toLowerCase()));
    if(matches.length===1){ti_.value=matches[0];ac.style.display='none'}
    else if(matches.length>1)showAC(ti_.value);
  }
  else if(e.key==='ArrowUp'){e.preventDefault();if(hIdx<hist.length-1){hIdx++;ti_.value=hist[hIdx]}}
  else if(e.key==='ArrowDown'){e.preventDefault();if(hIdx>0){hIdx--;ti_.value=hist[hIdx]}else{hIdx=-1;ti_.value=''}}
  else if(e.key==='Escape'){ac.style.display='none'}
  else{sfx.key()}
});
document.addEventListener('click',e=>{if(!e.target.closest('.term-input'))ac.style.display='none'});

// ======== BOOT MESSAGE IN TERMINAL ========
function termWelcome(){
  tl('rainbow','AGENTWALLET PROTOCOL v0.4.0');
  tl('info','Autonomous wallet infrastructure for AI agents on Solana');
  tl('out','');
  tl('ok','  88+ API endpoints | 27 MCP tools | 106 tests passing');
  tl('ok','  ACP commerce | Swarm coordination | PDA wallets');
  tl('ok','  Endorsed by toly (Solana co-founder)');
  tl('out','');
  tl('warn','Type \'help\' for 30+ commands. Try \'neofetch\' or \'hack\'!');
  tl('out','Tab = autocomplete | Up/Down = command history');
}

// ======== ACP ANIMATION ========
function acpAnim(){const p=document.querySelectorAll('.acp-p');let c=0;setInterval(()=>{p.forEach(x=>x.classList.remove('active'));p[c].classList.add('active');c=(c+1)%p.length},2000)}

// ======== DEPLOY BUTTON ========
document.getElementById('deploy-btn').onclick=async function(){
  const btn=this,ds=document.getElementById('ds'),dr=document.getElementById('dr');
  btn.disabled=true;btn.textContent='DEPLOYING...';ds.style.display='block';
  const r=()=>Math.random().toString(36).substring(2,8);
  const show=(id,d)=>setTimeout(()=>{document.getElementById(id).classList.add('on');sfx.b(800,.03,.02)},d);
  show('d1',200);show('d2',700);
  try{
    const em=`demo-${r()}@agent.test`,pw='DemoPass'+r()+'!1A';
    const a=await fetch(API+'/auth/register',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({org_name:'demo-'+r(),email:em,password:pw})}).then(r=>r.json());
    if(!a.access_token)throw new Error('Auth failed');
    const h={'Authorization':'Bearer '+a.access_token,'Content-Type':'application/json'};
    const ag=await fetch(API+'/agents',{method:'POST',headers:h,body:JSON.stringify({name:'agent-'+r(),description:'Deploy',capabilities:['trading']})}).then(r=>r.json());
    document.getElementById('da').textContent=ag.id?.substring(0,12)+'...';show('d3',0);
    const wl=await fetch(API+'/wallets',{method:'POST',headers:h,body:JSON.stringify({agent_id:ag.id,label:'primary'})}).then(r=>r.json());
    document.getElementById('dw').textContent=wl.address?.substring(0,16)+'...';show('d4',200);show('d5',500);
    setTimeout(()=>{dr.style.display='block';dr.innerHTML=`<div style="text-align:center;font-size:10px;letter-spacing:2px;color:var(--g);margin-bottom:10px">DEPLOYED</div><div style="font-size:10px"><span style="color:var(--dim)">AGENT:</span> <span style="color:var(--g)">${ag.id}</span><br><span style="color:var(--dim)">WALLET:</span> <span style="color:var(--c)">${wl.address}</span></div>`;sfx.ok_()},700);
  }catch(e){btn.textContent='FAILED';sfx.err()}};

// ======== SCROLL ========
const obs=new IntersectionObserver(e=>{e.forEach(x=>{if(x.isIntersecting)x.target.classList.add('on')})},{threshold:.1,rootMargin:'0px 0px -40px 0px'});
document.querySelectorAll('.rv').forEach(e=>obs.observe(e));
window.addEventListener('scroll',()=>{document.getElementById('scroll-p').style.width=(scrollY/(document.documentElement.scrollHeight-innerHeight)*100)+'%'});

// ══════════════════════════════════════════════════
// ══════════  PDA PLAYGROUND ENGINE  ═══════════════
// ══════════════════════════════════════════════════
const pp={token:null,orgId:null,agentId:null,walletId:null,pdaId:null,pdaAddr:null,perTx:0,daily:0};

function ppLoading(btn,on){
  if(on){btn.classList.add('loading');btn.disabled=true}
  else{btn.classList.remove('loading');btn.disabled=false}
}

function ppResult(id,html,isErr){
  const el=document.getElementById(id);
  el.innerHTML=html;
  el.className='pda-play-result show'+(isErr?' err':'');
}

async function ppInit(){
  const btn=document.getElementById('pp-init-btn');
  ppLoading(btn,true);
  const r=()=>Math.random().toString(36).substring(2,8);
  try{
    const em='pda-demo-'+r()+'@agent.test';
    const pw='PdaDemo'+r()+'!1A';
    const orgName='pda-'+r();
    const auth=await fetch(API+'/auth/register',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({org_name:orgName,email:em,password:pw})}).then(r=>r.json());
    if(!auth.access_token)throw new Error(auth.detail||'Registration failed');
    pp.token=auth.access_token;
    pp.orgId=auth.org_id||orgName;
    const h={'Authorization':'Bearer '+pp.token,'Content-Type':'application/json'};
    const ag=await fetch(API+'/agents',{method:'POST',headers:h,body:JSON.stringify({name:'pda-agent-'+r(),description:'PDA Playground',capabilities:['pda','trading']})}).then(r=>r.json());
    if(!ag.id)throw new Error(ag.detail||'Agent creation failed');
    pp.agentId=ag.id;
    const wl=await fetch(API+'/wallets',{method:'POST',headers:h,body:JSON.stringify({agent_id:ag.id,label:'authority'})}).then(r=>r.json());
    if(!wl.id)throw new Error(wl.detail||'Wallet creation failed');
    pp.walletId=wl.id;
    ppResult('pp-init-res',
      '<span style="color:var(--g)">&#10003;</span> Org: <span style="color:var(--c)">'+pp.orgId+'</span><br>'+
      '<span style="color:var(--g)">&#10003;</span> Agent: <span style="color:var(--m)">'+(ag.id.length>16?ag.id.substring(0,16)+'...':ag.id)+'</span><br>'+
      '<span style="color:var(--g)">&#10003;</span> Authority Wallet: <span style="color:var(--y)">'+(wl.address||wl.id.substring(0,16)+'...')+'</span>'
    );
    ppLoading(btn,false);
    btn.textContent='&#10003; ACCOUNT CREATED';
    btn.disabled=true;
    btn.style.borderColor='var(--g)';btn.style.color='var(--g)';
    document.getElementById('pp-create-btn').disabled=false;
    sfx.ok_();
  }catch(e){
    ppResult('pp-init-res','<span style="color:var(--r)">&#10007;</span> '+e.message,true);
    ppLoading(btn,false);
    sfx.err();
  }
}

async function ppCreate(){
  const btn=document.getElementById('pp-create-btn');
  ppLoading(btn,true);
  const seed=document.getElementById('pp-seed').value.trim()||'trading-bot-v1';
  const perTx=parseFloat(document.getElementById('pp-pertx').value)||0.5;
  const daily=parseFloat(document.getElementById('pp-daily').value)||2.0;
  pp.perTx=perTx;pp.daily=daily;
  const perTxLamp=Math.round(perTx*1e9);
  const dailyLamp=Math.round(daily*1e9);
  try{
    const h={'Authorization':'Bearer '+pp.token,'Content-Type':'application/json'};
    const res=await fetch(API+'/pda-wallets',{method:'POST',headers:h,body:JSON.stringify({
      authority_wallet_id:pp.walletId,agent_id_seed:seed,
      spending_limit_per_tx:perTxLamp,daily_limit:dailyLamp
    })}).then(r=>r.json());
    if(!res.id)throw new Error(res.detail||JSON.stringify(res));
    pp.pdaId=res.id;
    pp.pdaAddr=res.pda_address||res.address||'';
    let html='<span style="color:var(--g)">&#10003;</span> PDA ID: <span style="color:var(--c)">'+(pp.pdaId.length>16?pp.pdaId.substring(0,16)+'...':pp.pdaId)+'</span>';
    if(pp.pdaAddr)html+='<br><span style="color:var(--g)">&#10003;</span> PDA Address: <span style="color:var(--c)">'+pp.pdaAddr+'</span>';
    if(res.tx_signature)html+='<br><span style="color:var(--g)">&#10003;</span> Tx: <span style="color:var(--dim)">'+(res.tx_signature.length>20?res.tx_signature.substring(0,20)+'...':res.tx_signature)+'</span>';
    html+='<br><span style="color:var(--g)">&#10003;</span> Limits: <span style="color:var(--m)">'+perTx+' SOL/tx</span> | <span style="color:var(--y)">'+daily+' SOL/day</span>';
    ppResult('pp-create-res',html);
    ppLoading(btn,false);
    btn.innerHTML='&#10003; PDA DEPLOYED';
    btn.disabled=true;
    btn.style.borderColor='var(--g)';btn.style.color='var(--g)';
    if(pp.pdaAddr){
      document.getElementById('pp-addr-box').style.display='inline-flex';
      document.getElementById('pp-addr-text').textContent=pp.pdaAddr;
    }
    document.getElementById('pp-faucet-btn').disabled=false;
    document.getElementById('pp-bal-btn').disabled=false;
    document.getElementById('pp-tx-btn').disabled=false;
    document.getElementById('pp-state-btn').disabled=false;
    sfx.ok_();
  }catch(e){
    ppResult('pp-create-res','<span style="color:var(--r)">&#10007;</span> '+e.message,true);
    ppLoading(btn,false);
    sfx.err();
  }
}

function ppCopy(){
  if(!pp.pdaAddr)return;
  navigator.clipboard.writeText(pp.pdaAddr).then(()=>{
    const el=document.querySelector('.pda-play-copy');
    el.textContent='COPIED!';el.style.color='var(--g)';el.style.borderColor='var(--g)';
    setTimeout(()=>{el.textContent='COPY';el.style.color='var(--y)';el.style.borderColor='rgba(255,204,0,.3)'},2000);
    sfx.ok_();
  }).catch(()=>{
    const el=document.querySelector('.pda-play-copy');
    el.textContent='FAILED';setTimeout(()=>{el.textContent='COPY'},2000);
  });
}

function ppFaucet(){
  window.open('https://faucet.solana.com/','_blank','noopener');
}

async function ppBalance(){
  const btn=document.getElementById('pp-bal-btn');
  ppLoading(btn,true);
  try{
    const h={'Authorization':'Bearer '+pp.token};
    const res=await fetch(API+'/pda-wallets/'+pp.pdaId+'/state',{headers:h}).then(r=>r.json());
    const bal=res.sol_balance!=null?res.sol_balance:(res.balance!=null?(res.balance/1e9):null);
    if(bal!=null){
      ppResult('pp-bal-res','<span style="color:var(--g)">&#10003;</span> Balance: <span style="color:var(--y);font-weight:700">'+bal.toFixed(4)+' SOL</span>'+(bal>0?' <span style="color:var(--g)">&#9889; Funded!</span>':' <span style="color:var(--dim)">(fund via faucet above)</span>'));
    }else{
      ppResult('pp-bal-res','<span style="color:var(--g)">&#10003;</span> State retrieved <span style="color:var(--dim)">(balance may show after funding)</span>');
    }
    ppLoading(btn,false);
    sfx.ok_();
  }catch(e){
    ppResult('pp-bal-res','<span style="color:var(--r)">&#10007;</span> '+e.message,true);
    ppLoading(btn,false);
    sfx.err();
  }
}

async function ppTransfer(){
  const btn=document.getElementById('pp-tx-btn');
  const recip=document.getElementById('pp-recip').value.trim();
  const amt=parseFloat(document.getElementById('pp-amt').value)||0.1;
  if(!recip){ppResult('pp-tx-res','<span style="color:var(--r)">&#10007;</span> Enter a recipient address',true);return}
  ppLoading(btn,true);
  try{
    const h={'Authorization':'Bearer '+pp.token,'Content-Type':'application/json'};
    const lamports=Math.round(amt*1e9);
    const res=await fetch(API+'/pda-wallets/'+pp.pdaId+'/transfer',{method:'POST',headers:h,body:JSON.stringify({
      recipient:recip,amount_lamports:lamports
    })}).then(r=>r.json());
    if(res.detail)throw new Error(res.detail);
    let html='<span style="color:var(--g)">&#10003;</span> Sent <span style="color:var(--m);font-weight:700">'+amt+' SOL</span> to <span style="color:var(--c)">'+(recip.length>16?recip.substring(0,8)+'...'+recip.slice(-8):recip)+'</span>';
    if(res.signature||res.tx_signature)html+='<br><span style="color:var(--g)">&#10003;</span> Sig: <span style="color:var(--dim)">'+((res.signature||res.tx_signature).substring(0,24))+'...</span>';
    if(res.confirmed!=null)html+='<br><span style="color:var(--g)">&#10003;</span> Status: <span style="color:var(--g)">'+(res.confirmed?'CONFIRMED':'PENDING')+'</span>';
    ppResult('pp-tx-res',html);
    ppLoading(btn,false);
    sfx.ok_();
  }catch(e){
    ppResult('pp-tx-res','<span style="color:var(--r)">&#10007;</span> '+e.message,true);
    ppLoading(btn,false);
    sfx.err();
  }
}

async function ppState(){
  const btn=document.getElementById('pp-state-btn');
  ppLoading(btn,true);
  try{
    const h={'Authorization':'Bearer '+pp.token};
    const res=await fetch(API+'/pda-wallets/'+pp.pdaId+'/state',{headers:h}).then(r=>r.json());
    if(res.detail)throw new Error(res.detail);
    const bal=res.sol_balance!=null?res.sol_balance:(res.balance!=null?(res.balance/1e9):0);
    const dailySpent=res.daily_spent!=null?(res.daily_spent/1e9):0;
    const perTxLimit=res.spending_limit_per_tx!=null?(res.spending_limit_per_tx/1e9):pp.perTx;
    const dailyLimit=res.daily_limit!=null?(res.daily_limit/1e9):pp.daily;
    const active=res.is_active!=null?res.is_active:true;
    let html='<span style="color:var(--g)">&#10003;</span> Authority: <span style="color:var(--c)">'+(res.authority||'derived')+'</span>';
    html+='<br><span style="color:var(--g)">&#10003;</span> Active: <span style="color:'+(active?'var(--g)':'var(--r)')+'">'+active+'</span>';
    html+='<br><span style="color:var(--g)">&#10003;</span> Balance: <span style="color:var(--y);font-weight:700">'+bal.toFixed(4)+' SOL</span>';
    html+='<br><span style="color:var(--g)">&#10003;</span> Daily spent: <span style="color:var(--m)">'+dailySpent.toFixed(4)+' / '+dailyLimit.toFixed(1)+' SOL</span>';
    ppResult('pp-state-res',html);
    const bars=document.getElementById('pp-bars');
    bars.style.display='block';
    document.getElementById('pp-bar-pertx-label').textContent='last tx / '+perTxLimit.toFixed(1)+' SOL max';
    document.getElementById('pp-bar-pertx').style.width=Math.min(100,((dailySpent>0?Math.min(dailySpent,perTxLimit):0)/perTxLimit)*100)+'%';
    document.getElementById('pp-bar-daily-label').textContent=dailySpent.toFixed(4)+' / '+dailyLimit.toFixed(1)+' SOL';
    document.getElementById('pp-bar-daily').style.width=Math.min(100,(dailySpent/dailyLimit)*100)+'%';
    const maxBal=Math.max(bal,dailyLimit);
    document.getElementById('pp-bar-bal-label').textContent=bal.toFixed(4)+' SOL';
    document.getElementById('pp-bar-bal').style.width=Math.min(100,(bal/maxBal)*100)+'%';
    ppLoading(btn,false);
    sfx.ok_();
  }catch(e){
    ppResult('pp-state-res','<span style="color:var(--r)">&#10007;</span> '+e.message,true);
    ppLoading(btn,false);
    sfx.err();
  }
}

// ======== LIVE FEED ========
const FALLBACK_FEED=[
  {act:'transferred',addr:'7kR3m...Vn8z',amt:'0.25 SOL',type:'tx'},
  {act:'created PDA',addr:'EsCw4...9pLn',amt:'',type:'pda'},
  {act:'funded escrow',addr:'3xHmp...Bv3w',amt:'1.5 SOL',type:'escrow'},
  {act:'deployed agent',addr:'agent-alpha-9x',amt:'',type:'agent'},
  {act:'ACP job completed',addr:'buyer-0x8f...3k',amt:'25 USDC',type:'acp'},
  {act:'swarm task done',addr:'cluster-7v',amt:'3 subtasks',type:'swarm'},
  {act:'transferred',addr:'9aE2C...pK4b',amt:'0.8 SOL',type:'tx'},
  {act:'PDA limits updated',addr:'PDwa3...mK2q',amt:'2 SOL/day',type:'pda'},
  {act:'escrow released',addr:'4kLmn...2xWp',amt:'0.5 SOL',type:'escrow'},
  {act:'new agent registered',addr:'scout-bot-v2',amt:'',type:'agent'},
  {act:'x402 payment',addr:'api/v1/data',amt:'0.001 SOL',type:'x402'},
  {act:'policy evaluated',addr:'pol-daily-cap',amt:'PASS',type:'policy'},
  {act:'swarm created',addr:'research-v3',amt:'5 workers',type:'swarm'},
  {act:'transferred',addr:'BkP7n...4rXs',amt:'3.2 SOL',type:'tx'},
  {act:'ACP negotiation',addr:'seller-8j...Lm',amt:'50 USDC',type:'acp'},
  {act:'webhook fired',addr:'tx.completed',amt:'200ms',type:'webhook'},
];
const FEED_COLORS={transfer:'var(--g)',tx:'var(--g)',pda:'var(--c)',escrow:'var(--m)',agent:'var(--p)',acp:'var(--y)',swarm:'var(--o)',x402:'var(--pk)',policy:'var(--tl)',webhook:'var(--dim)'};
function timeAgo(ts){const s=Math.floor((Date.now()-new Date(ts))/1000);if(s<60)return s+'s ago';if(s<3600)return Math.floor(s/60)+'m ago';if(s<86400)return Math.floor(s/3600)+'h ago';return Math.floor(s/86400)+'d ago'}
function renderFeed(acts){
  const c=document.getElementById('feed-inner');let html='';
  for(let r=0;r<2;r++){acts.forEach((a)=>{
    const color=FEED_COLORS[a.type]||'var(--dim)';
    const time=a.time||'';
    html+=`<div class="feed-item"><span class="fi-dot" style="background:${color}"></span><span class="fi-act">${a.act}</span> <span class="fi-addr">${a.addr}</span>${a.amt?` <span class="fi-amt">${a.amt}</span>`:''} <span class="fi-time">${time}</span></div>`;
  })}
  c.innerHTML=html;
}
function initFeed(){
  const fallbackTimes=['2s ago','5s ago','12s ago','18s ago','25s ago','31s ago','45s ago','1m ago','1m ago','2m ago','2m ago','3m ago','3m ago','4m ago','5m ago','5m ago'];
  fetch(API_BASE+'/v1/public/feed').then(r=>r.json()).then(d=>{
    if(d.items&&d.items.length>0){
      const acts=d.items.map(it=>({act:it.action,addr:it.address,amt:it.amount||'',type:it.type,time:timeAgo(it.timestamp)}));
      renderFeed(acts);
    }else{renderFeed(FALLBACK_FEED.map((a,i)=>({...a,time:fallbackTimes[i]})))}
  }).catch(()=>{renderFeed(FALLBACK_FEED.map((a,i)=>({...a,time:fallbackTimes[i]})))});
}

// ======== INIT ========
const mx=new Matrix(document.getElementById('matrix-c'));
const pt=new Particles(document.getElementById('particle-c'));
function anim(){mx.d();pt.d();requestAnimationFrame(anim)}
window.onload=()=>{boot();anim();acpAnim();initFeed();setTimeout(termWelcome,BL.length*130+800)};
</script>
</body>
</html>
