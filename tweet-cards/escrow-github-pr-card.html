<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }
  html, body {
    width: 1200px;
    height: 675px;
    overflow: hidden;
    background: #0d1117;
    font-family: 'SF Mono', 'Monaco', 'Cascadia Code', 'Consolas', monospace;
    color: #f0f6fc;
  }
  .github-interface {
    width: 1200px;
    height: 675px;
    position: relative;
    background: #0d1117;
  }
  
  /* GitHub Header */
  .gh-header {
    background: #161b22;
    border-bottom: 1px solid #30363d;
    padding: 16px 24px;
    display: flex;
    align-items: center;
    gap: 16px;
  }
  .gh-logo {
    width: 24px;
    height: 24px;
    background: #f0f6fc;
    border-radius: 50%;
    position: relative;
  }
  .gh-logo::after {
    content: '';
    position: absolute;
    top: 6px;
    left: 6px;
    width: 12px;
    height: 12px;
    background: #0d1117;
    border-radius: 50%;
  }
  .repo-path {
    font-size: 14px;
    color: #7d8590;
  }
  .repo-name {
    color: #58a6ff;
    text-decoration: none;
  }
  
  /* PR Title */
  .pr-header {
    padding: 20px 24px;
    border-bottom: 1px solid #30363d;
  }
  .pr-number {
    color: #58a6ff;
    font-weight: 600;
    font-size: 16px;
  }
  .pr-title {
    font-size: 24px;
    font-weight: 600;
    color: #f0f6fc;
    margin: 8px 0;
    line-height: 1.2;
  }
  .pr-status {
    display: flex;
    align-items: center;
    gap: 12px;
    font-size: 14px;
  }
  .status-badge {
    background: #1f6e1f;
    color: #fff;
    padding: 4px 12px;
    border-radius: 20px;
    font-weight: 600;
    font-size: 12px;
  }
  .pr-meta {
    color: #7d8590;
  }
  
  /* Diff View */
  .diff-container {
    height: 460px;
    overflow: hidden;
  }
  .file-header {
    background: #21262d;
    border-bottom: 1px solid #30363d;
    padding: 8px 16px;
    font-size: 14px;
    color: #f0f6fc;
    display: flex;
    align-items: center;
    gap: 8px;
  }
  .file-icon {
    color: #7d8590;
  }
  .diff-content {
    font-family: 'SF Mono', 'Monaco', 'Consolas', monospace;
    font-size: 12px;
    line-height: 1.45;
    background: #0d1117;
  }
  .diff-line {
    padding: 0 16px;
    display: flex;
    white-space: pre;
  }
  .line-num {
    color: #7d8590;
    width: 50px;
    text-align: right;
    padding-right: 16px;
    user-select: none;
    flex-shrink: 0;
  }
  .line-content {
    flex: 1;
  }
  .line-add {
    background: rgba(46, 160, 67, 0.15);
    color: #f0f6fc;
  }
  .line-add .line-content::before {
    content: '+';
    color: #46954a;
    margin-right: 8px;
  }
  .line-remove {
    background: rgba(248, 81, 73, 0.15);
    color: #f0f6fc;
  }
  .line-remove .line-content::before {
    content: '-';
    color: #f85149;
    margin-right: 8px;
  }
  .line-context {
    color: #7d8590;
  }
  .line-context .line-content::before {
    content: ' ';
    margin-right: 8px;
  }
  
  /* Stats Panel */
  .stats-panel {
    position: absolute;
    top: 140px;
    right: 24px;
    background: #161b22;
    border: 1px solid #30363d;
    border-radius: 8px;
    padding: 16px;
    width: 280px;
  }
  .stats-title {
    font-size: 14px;
    font-weight: 600;
    color: #f0f6fc;
    margin-bottom: 12px;
  }
  .stat-row {
    display: flex;
    justify-content: space-between;
    margin-bottom: 8px;
    font-size: 12px;
  }
  .stat-label { color: #7d8590; }
  .stat-value { 
    color: #f0f6fc; 
    font-weight: 600;
  }
  .stat-add { color: #46954a; }
  .stat-remove { color: #f85149; }
  
  /* Bottom info */
  .bottom-info {
    position: absolute;
    bottom: 16px;
    left: 24px;
    right: 24px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: 12px;
    color: #7d8590;
  }
  .commit-hash {
    font-family: 'SF Mono', monospace;
    background: rgba(110, 118, 129, 0.1);
    padding: 4px 8px;
    border-radius: 6px;
    color: #f0f6fc;
  }
  .agentwallet-brand {
    color: #00d4ff;
    font-weight: 600;
    font-size: 14px;
  }
  
  /* Syntax highlighting */
  .keyword { color: #ff7b72; }
  .string { color: #a5d6ff; }
  .comment { color: #8b949e; }
  .function { color: #d2a8ff; }
  .type { color: #ffa657; }
  .const { color: #79c0ff; }
</style>
</head>
<body>
<div class="github-interface">
  
  <!-- GitHub Header -->
  <div class="gh-header">
    <div class="gh-logo"></div>
    <div class="repo-path">
      <a href="#" class="repo-name">agentwallet-protocol</a>
      <span> / </span>
      <a href="#" class="repo-name">solana-programs</a>
    </div>
  </div>
  
  <!-- PR Header -->
  <div class="pr-header">
    <div class="pr-number">#247</div>
    <div class="pr-title">feat: SPL token escrow with multi-sig oracle system</div>
    <div class="pr-status">
      <span class="status-badge">âœ“ Merged</span>
      <span class="pr-meta">ironman merged 2 commits into main 12 minutes ago</span>
    </div>
  </div>
  
  <!-- Stats Panel -->
  <div class="stats-panel">
    <div class="stats-title">ðŸš€ Escrow Features Shipped</div>
    <div class="stat-row">
      <span class="stat-label">PDA Vault Creation</span>
      <span class="stat-value stat-add">âœ“</span>
    </div>
    <div class="stat-row">
      <span class="stat-label">Multi-sig Oracle</span>
      <span class="stat-value stat-add">âœ“</span>
    </div>
    <div class="stat-row">
      <span class="stat-label">Agent-to-Agent Payments</span>
      <span class="stat-value stat-add">âœ“</span>
    </div>
    <div class="stat-row">
      <span class="stat-label">Dispute Resolution</span>
      <span class="stat-value stat-add">âœ“</span>
    </div>
    <div class="stat-row">
      <span class="stat-label">Emergency Freeze</span>
      <span class="stat-value stat-add">âœ“</span>
    </div>
  </div>
  
  <!-- File Diff -->
  <div class="diff-container">
    <div class="file-header">
      <span class="file-icon">ðŸ“„</span>
      <span>programs/escrow/src/instructions/create_escrow.rs</span>
    </div>
    <div class="diff-content">
      <div class="diff-line line-context">
        <span class="line-num">23</span>
        <span class="line-content"><span class="keyword">use</span> anchor_lang::prelude::*;</span>
      </div>
      <div class="diff-line line-context">
        <span class="line-num">24</span>
        <span class="line-content"><span class="keyword">use</span> anchor_spl::token::{Token, TokenAccount};</span>
      </div>
      <div class="diff-line line-add">
        <span class="line-num">25</span>
        <span class="line-content"><span class="keyword">use</span> crate::state::{EscrowAccount, PolicyAccount};</span>
      </div>
      <div class="diff-line line-context">
        <span class="line-num">26</span>
        <span class="line-content"></span>
      </div>
      <div class="diff-line line-add">
        <span class="line-num">27</span>
        <span class="line-content"><span class="comment">/// Creates trustless escrow between AI agents</span></span>
      </div>
      <div class="diff-line line-add">
        <span class="line-num">28</span>
        <span class="line-content"><span class="keyword">pub fn</span> <span class="function">create_escrow</span>(</span>
      </div>
      <div class="diff-line line-add">
        <span class="line-num">29</span>
        <span class="line-content">    ctx: Context&lt;<span class="type">CreateEscrow</span>&gt;,</span>
      </div>
      <div class="diff-line line-add">
        <span class="line-num">30</span>
        <span class="line-content">    amount: <span class="type">u64</span>,</span>
      </div>
      <div class="diff-line line-add">
        <span class="line-num">31</span>
        <span class="line-content">    expires_at: <span class="type">i64</span>,</span>
      </div>
      <div class="diff-line line-add">
        <span class="line-num">32</span>
        <span class="line-content">    oracle_threshold: <span class="type">u8</span>,</span>
      </div>
      <div class="diff-line line-add">
        <span class="line-num">33</span>
        <span class="line-content">) -> Result&lt;()&gt; {</span>
      </div>
      <div class="diff-line line-add">
        <span class="line-num">34</span>
        <span class="line-content">    <span class="keyword">let</span> escrow = &<span class="keyword">mut</span> ctx.accounts.escrow_account;</span>
      </div>
      <div class="diff-line line-add">
        <span class="line-num">35</span>
        <span class="line-content">    </span>
      </div>
      <div class="diff-line line-add">
        <span class="line-num">36</span>
        <span class="line-content">    <span class="comment">// Enforce spend policy limits</span></span>
      </div>
      <div class="diff-line line-add">
        <span class="line-num">37</span>
        <span class="line-content">    <span class="keyword">require!</span>(</span>
      </div>
      <div class="diff-line line-add">
        <span class="line-num">38</span>
        <span class="line-content">        amount &lt;= ctx.accounts.policy.max_escrow_amount,</span>
      </div>
      <div class="diff-line line-add">
        <span class="line-num">39</span>
        <span class="line-content">        <span class="const">ErrorCode::ExceedsPolicy</span></span>
      </div>
      <div class="diff-line line-add">
        <span class="line-num">40</span>
        <span class="line-content">    );</span>
      </div>
      <div class="diff-line line-add">
        <span class="line-num">41</span>
        <span class="line-content"></span>
      </div>
      <div class="diff-line line-add">
        <span class="line-num">42</span>
        <span class="line-content">    escrow.agent_a = ctx.accounts.agent_a.key();</span>
      </div>
      <div class="diff-line line-add">
        <span class="line-num">43</span>
        <span class="line-content">    escrow.agent_b = ctx.accounts.agent_b.key();</span>
      </div>
      <div class="diff-line line-add">
        <span class="line-num">44</span>
        <span class="line-content">    escrow.amount = amount;</span>
      </div>
      <div class="diff-line line-add">
        <span class="line-num">45</span>
        <span class="line-content">    escrow.oracle_threshold = oracle_threshold;</span>
      </div>
      <div class="diff-line line-add">
        <span class="line-num">46</span>
        <span class="line-content">    escrow.status = <span class="const">EscrowStatus::Active</span>;</span>
      </div>
      <div class="diff-line line-add">
        <span class="line-num">47</span>
        <span class="line-content"></span>
      </div>
      <div class="diff-line line-add">
        <span class="line-num">48</span>
        <span class="line-content">    <span class="function">msg!</span>(<span class="string">"Escrow PDA created: {}"</span>, escrow.key());</span>
      </div>
      <div class="diff-line line-add">
        <span class="line-num">49</span>
        <span class="line-content">    <span class="keyword">Ok</span>(())</span>
      </div>
      <div class="diff-line line-add">
        <span class="line-num">50</span>
        <span class="line-content">}</span>
      </div>
    </div>
  </div>
  
  <!-- Bottom Info -->
  <div class="bottom-info">
    <div>
      <span class="commit-hash">7f3a2c1</span>
      <span> â€¢ +247 lines, -0 lines â€¢ </span>
      <span class="agentwallet-brand">agentwallet.fun</span>
    </div>
    <div>33 MCP Tools â€¢ Solana PDA Wallets for AI Agents</div>
  </div>
  
</div>
</body>
</html>